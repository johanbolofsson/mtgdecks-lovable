import{r as t,ao as e,ap as r,aq as i,ar as n,as as s,at as o}from"./react-core-CnGHm5UM.js";var a={exports:{}},l={};!function(t){function e(t,e){var r=t.length;t.push(e);t:for(;r>0;){var i=r-1>>>1,s=t[i];if(0>=n(s,e))break t;t[i]=e,t[r]=s,r=i}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],r=t.pop();if(r!==e){t[0]=r;t:for(var i=0,s=t.length,o=s>>>1;o>i;){var a=2*(i+1)-1,l=t[a],c=a+1,u=t[c];if(0>n(l,r))s>c&&0>n(u,l)?(t[i]=u,t[c]=r,i=c):(t[i]=l,t[a]=r,i=a);else{if(c>=s||n(u,r)>=0)break t;t[i]=u,t[c]=r,i=c}}}return e}function n(t,e){var r=t.sortIndex-e.sortIndex;return 0!==r?r:t.id-e.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,v=!1,m="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function b(t){for(var n=r(c);null!==n;){if(null===n.callback)i(c);else{if(n.startTime>t)break;i(c),n.sortIndex=n.expirationTime,e(l,n)}n=r(c)}}function g(t){if(v=!1,b(t),!p)if(null!==r(l))p=!0,I(x);else{var e=r(c);null!==e&&R(g,e.startTime-t)}}function x(e,n){p=!1,v&&(v=!1,y(j),j=-1),f=!0;var s=d;try{for(b(n),h=r(l);null!==h&&(h.expirationTime<=n||e&&!E());){var o=h.callback;if("function"==typeof o){h.callback=null,d=h.priorityLevel;var a=o(h.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?h.callback=a:h===r(l)&&i(l),b(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var m=r(c);null!==m&&R(g,m.startTime-n),u=!1}return u}finally{h=null,d=s,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,k=!1,O=null,j=-1,S=5,T=-1;function E(){return t.unstable_now()-T>=S}function A(){if(null!==O){var e=t.unstable_now();T=e;var r=!0;try{r=O(!0,e)}finally{r?_():(k=!1,O=null)}}else k=!1}if("function"==typeof w)_=function(){w(A)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,$=P.port2;P.port1.onmessage=A,_=function(){$.postMessage(null)}}else _=function(){m(A,0)};function I(t){O=t,k||(k=!0,_())}function R(e,r){j=m((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(t){t.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,I(x))},t.unstable_forceFrameRate=function(t){0>t||t>125||(S=t>0?Math.floor(1e3/t):5)},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(t){switch(d){case 1:case 2:case 3:var e=3;break;default:e=d}var r=d;d=e;try{return t()}finally{d=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=d;d=t;try{return e()}finally{d=r}},t.unstable_scheduleCallback=function(i,n,s){var o=t.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&s>0?o+s:o,i){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return i={id:u++,callback:n,priorityLevel:i,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(i.sortIndex=s,e(c,i),null===r(l)&&i===r(c)&&(v?(y(j),j=-1):v=!0,R(g,s-o))):(i.sortIndex=a,e(l,i),p||f||(p=!0,I(x))),i},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(t){var e=d;return function(){var r=d;d=e;try{return t.apply(this,arguments)}finally{d=r}}}}(l),a.exports=l;var c=a.exports;function u(t){var e,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t)){var n=t.length;for(e=0;n>e;e++)t[e]&&(r=u(t[e]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r);return i}function h(){for(var t,e,r=0,i="",n=arguments.length;n>r;r++)(t=arguments[r])&&(e=u(t))&&(i&&(i+=" "),i+=e);return i}const d=t=>"boolean"==typeof t?""+t:0===t?"0":t,f=h,p=(t,e)=>r=>{var i;if(null==(null==e?void 0:e.variants))return f(t,null==r?void 0:r.class,null==r?void 0:r.className);const{variants:n,defaultVariants:s}=e,o=Object.keys(n).map((t=>{const e=null==r?void 0:r[t],i=null==s?void 0:s[t];if(null===e)return null;const o=d(e)||d(i);return n[t][o]})),a=r&&Object.entries(r).reduce(((t,e)=>{let[r,i]=e;return void 0===i||(t[r]=i),t}),{}),l=null==e||null===(i=e.compoundVariants)||void 0===i?void 0:i.reduce(((t,e)=>{let{class:r,className:i,...n}=e;return Object.entries(n).every((t=>{let[e,r]=t;return Array.isArray(r)?r.includes({...s,...a}[e]):{...s,...a}[e]===r}))?[...t,r,i]:t}),[]);return f(t,o,l,null==r?void 0:r.class,null==r?void 0:r.className)},v=t=>{const e=b(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:t=>{const r=t.split("-");return""===r[0]&&1!==r.length&&r.shift(),m(r,e)||w(t)},getConflictingClassGroupIds:(t,e)=>{const n=r[t]||[];return e&&i[t]?[...n,...i[t]]:n}}},m=(t,e)=>{if(0===t.length)return e.classGroupId;const r=t[0],i=e.nextPart.get(r),n=i?m(t.slice(1),i):void 0;if(n)return n;if(0===e.validators.length)return;const s=t.join("-");return e.validators.find((({validator:t})=>t(s)))?.classGroupId},y=/^\[(.+)\]$/,w=t=>{if(y.test(t)){const e=y.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},b=t=>{const{theme:e,classGroups:r}=t,i={nextPart:new Map,validators:[]};for(const n in r)g(r[n],i,n,e);return i},g=(t,e,r,i)=>{t.forEach((t=>{if("string"!=typeof t){if("function"==typeof t)return _(t)?void g(t(i),e,r,i):void e.validators.push({validator:t,classGroupId:r});Object.entries(t).forEach((([t,n])=>{g(n,x(e,t),r,i)}))}else(""===t?e:x(e,t)).classGroupId=r}))},x=(t,e)=>{let r=t;return e.split("-").forEach((t=>{r.nextPart.has(t)||r.nextPart.set(t,{nextPart:new Map,validators:[]}),r=r.nextPart.get(t)})),r},_=t=>t.isThemeGetter,k=t=>{if(1>t)return{get:()=>{},set:()=>{}};let e=0,r=new Map,i=new Map;const n=(n,s)=>{r.set(n,s),e++,e>t&&(e=0,i=r,r=new Map)};return{get(t){let e=r.get(t);return void 0!==e?e:void 0!==(e=i.get(t))?(n(t,e),e):void 0},set(t,e){r.has(t)?r.set(t,e):n(t,e)}}},O=t=>{const{prefix:e,experimentalParseClassName:r}=t;let i=t=>{const e=[];let r,i=0,n=0,s=0;for(let l=0;l<t.length;l++){let o=t[l];if(0===i&&0===n){if(":"===o){e.push(t.slice(s,l)),s=l+1;continue}if("/"===o){r=l;continue}}"["===o?i++:"]"===o?i--:"("===o?n++:")"===o&&n--}const o=0===e.length?t:t.substring(s),a=j(o);return{modifiers:e,hasImportantModifier:a!==o,baseClassName:a,maybePostfixModifierPosition:r&&r>s?r-s:void 0}};if(e){const t=e+":",r=i;i=e=>e.startsWith(t)?r(e.substring(t.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:e,maybePostfixModifierPosition:void 0}}if(r){const t=i;i=e=>r({className:e,parseClassName:t})}return i},j=t=>t.endsWith("!")?t.substring(0,t.length-1):t.startsWith("!")?t.substring(1):t,S=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map((t=>[t,!0])));return t=>{if(1>=t.length)return t;const r=[];let i=[];return t.forEach((t=>{"["===t[0]||e[t]?(r.push(...i.sort(),t),i=[]):i.push(t)})),r.push(...i.sort()),r}},T=/\s+/;function E(){let t,e,r=0,i="";for(;arguments.length>r;)(t=arguments[r++])&&(e=A(t))&&(i&&(i+=" "),i+=e);return i}const A=t=>{if("string"==typeof t)return t;let e,r="";for(let i=0;i<t.length;i++)t[i]&&(e=A(t[i]))&&(r&&(r+=" "),r+=e);return r};function P(t,...e){let r,i,n,s=function(a){const l=e.reduce(((t,e)=>e(t)),t());return r=(t=>({cache:k(t.cacheSize),parseClassName:O(t),sortModifiers:S(t),...v(t)}))(l),i=r.cache.get,n=r.cache.set,s=o,o(a)};function o(t){const e=i(t);if(e)return e;const s=((t,e)=>{const{parseClassName:r,getClassGroupId:i,getConflictingClassGroupIds:n,sortModifiers:s}=e,o=[],a=t.trim().split(T);let l="";for(let c=a.length-1;c>=0;c-=1){const t=a[c],{isExternal:e,modifiers:u,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:f}=r(t);if(e){l=t+(l.length>0?" "+l:l);continue}let p=!!f,v=i(p?d.substring(0,f):d);if(!v){if(!p){l=t+(l.length>0?" "+l:l);continue}if(v=i(d),!v){l=t+(l.length>0?" "+l:l);continue}p=!1}const m=s(u).join(":"),y=h?m+"!":m,w=y+v;if(o.includes(w))continue;o.push(w);const b=n(v,p);for(let r=0;r<b.length;++r){const t=b[r];o.push(y+t)}l=t+(l.length>0?" "+l:l)}return l})(t,r);return n(t,s),s}return function(){return s(E.apply(null,arguments))}}const $=t=>{const e=e=>e[t]||[];return e.isThemeGetter=!0,e},I=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,R=/^\((?:(\w[\w-]*):)?(.+)\)$/i,N=/^\d+\/\d+$/,C=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,D=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,F=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,M=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,U=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,z=t=>N.test(t),L=t=>!!t&&!Number.isNaN(+t),q=t=>!!t&&Number.isInteger(+t),B=t=>t.endsWith("%")&&L(t.slice(0,-1)),Z=t=>C.test(t),J=()=>!0,G=t=>D.test(t)&&!F.test(t),W=()=>!1,K=t=>M.test(t),V=t=>U.test(t),H=t=>!Y(t)&&!nt(t),Q=t=>ht(t,yt,W),Y=t=>I.test(t),X=t=>ht(t,wt,G),tt=t=>ht(t,bt,L),et=t=>ht(t,ft,W),rt=t=>ht(t,vt,V),it=t=>ht(t,W,K),nt=t=>R.test(t),st=t=>dt(t,wt),ot=t=>dt(t,gt),at=t=>dt(t,ft),lt=t=>dt(t,yt),ct=t=>dt(t,vt),ut=t=>dt(t,xt,!0),ht=(t,e,r)=>{const i=I.exec(t);return!!i&&(i[1]?e(i[1]):r(i[2]))},dt=(t,e,r=!1)=>{const i=R.exec(t);return!!i&&(i[1]?e(i[1]):r)},ft=t=>"position"===t,pt=new Set(["image","url"]),vt=t=>pt.has(t),mt=new Set(["length","size","percentage"]),yt=t=>mt.has(t),wt=t=>"length"===t,bt=t=>"number"===t,gt=t=>"family-name"===t,xt=t=>"shadow"===t,_t=P((()=>{const t=$("color"),e=$("font"),r=$("text"),i=$("font-weight"),n=$("tracking"),s=$("leading"),o=$("breakpoint"),a=$("container"),l=$("spacing"),c=$("radius"),u=$("shadow"),h=$("inset-shadow"),d=$("drop-shadow"),f=$("blur"),p=$("perspective"),v=$("aspect"),m=$("ease"),y=$("animate"),w=()=>[nt,Y,l],b=()=>[z,"full","auto",...w()],g=()=>[q,"none","subgrid",nt,Y],x=()=>["auto",{span:["full",q,nt,Y]},nt,Y],_=()=>[q,"auto",nt,Y],k=()=>["auto","min","max","fr",nt,Y],O=()=>["auto",...w()],j=()=>[z,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...w()],S=()=>[t,nt,Y],T=()=>[B,X],E=()=>["","none","full",c,nt,Y],A=()=>["",L,st,X],P=()=>["","none",f,nt,Y],I=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nt,Y],R=()=>["none",L,nt,Y],N=()=>["none",L,nt,Y],C=()=>[L,nt,Y],D=()=>[z,"full",...w()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Z],breakpoint:[Z],color:[J],container:[Z],"drop-shadow":[Z],ease:["in","out","in-out"],font:[H],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Z],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Z],shadow:[Z],spacing:["px",L],text:[Z],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",z,Y,nt,v]}],container:["container"],columns:[{columns:[L,Y,nt,a]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Y,nt]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:b()}],"inset-x":[{"inset-x":b()}],"inset-y":[{"inset-y":b()}],start:[{start:b()}],end:[{end:b()}],top:[{top:b()}],right:[{right:b()}],bottom:[{bottom:b()}],left:[{left:b()}],visibility:["visible","invisible","collapse"],z:[{z:[q,"auto",nt,Y]}],basis:[{basis:[z,"full","auto",a,...w()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[L,z,"auto","initial","none",Y]}],grow:[{grow:["",L,nt,Y]}],shrink:[{shrink:["",L,nt,Y]}],order:[{order:[q,"first","last","none",nt,Y]}],"grid-cols":[{"grid-cols":g()}],"col-start-end":[{col:x()}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":g()}],"row-start-end":[{row:x()}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","stretch","baseline"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","stretch","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:O()}],mx:[{mx:O()}],my:[{my:O()}],ms:[{ms:O()}],me:[{me:O()}],mt:[{mt:O()}],mr:[{mr:O()}],mb:[{mb:O()}],ml:[{ml:O()}],"space-x":[{"space-x":w()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":w()}],"space-y-reverse":["space-y-reverse"],size:[{size:j()}],w:[{w:[a,"screen",...j()]}],"min-w":[{"min-w":[a,"screen","none",...j()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...j()]}],h:[{h:["screen",...j()]}],"min-h":[{"min-h":["screen","none",...j()]}],"max-h":[{"max-h":["screen",...j()]}],"font-size":[{text:["base",r,st,X]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,nt,tt]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",B,Y]}],"font-family":[{font:[ot,Y,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,nt,Y]}],"line-clamp":[{"line-clamp":[L,"none",nt,tt]}],leading:[{leading:[s,...w()]}],"list-image":[{"list-image":["none",nt,Y]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",nt,Y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:S()}],"text-color":[{text:S()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[L,"from-font","auto",nt,X]}],"text-decoration-color":[{decoration:S()}],"underline-offset":[{"underline-offset":[L,"auto",nt,Y]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nt,Y]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nt,Y]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",at,et]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",lt,Q]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},q,nt,Y],radial:["",nt,Y],conic:[q,nt,Y]},ct,rt]}],"bg-color":[{bg:S()}],"gradient-from-pos":[{from:T()}],"gradient-via-pos":[{via:T()}],"gradient-to-pos":[{to:T()}],"gradient-from":[{from:S()}],"gradient-via":[{via:S()}],"gradient-to":[{to:S()}],rounded:[{rounded:E()}],"rounded-s":[{"rounded-s":E()}],"rounded-e":[{"rounded-e":E()}],"rounded-t":[{"rounded-t":E()}],"rounded-r":[{"rounded-r":E()}],"rounded-b":[{"rounded-b":E()}],"rounded-l":[{"rounded-l":E()}],"rounded-ss":[{"rounded-ss":E()}],"rounded-se":[{"rounded-se":E()}],"rounded-ee":[{"rounded-ee":E()}],"rounded-es":[{"rounded-es":E()}],"rounded-tl":[{"rounded-tl":E()}],"rounded-tr":[{"rounded-tr":E()}],"rounded-br":[{"rounded-br":E()}],"rounded-bl":[{"rounded-bl":E()}],"border-w":[{border:A()}],"border-w-x":[{"border-x":A()}],"border-w-y":[{"border-y":A()}],"border-w-s":[{"border-s":A()}],"border-w-e":[{"border-e":A()}],"border-w-t":[{"border-t":A()}],"border-w-r":[{"border-r":A()}],"border-w-b":[{"border-b":A()}],"border-w-l":[{"border-l":A()}],"divide-x":[{"divide-x":A()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":A()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:S()}],"border-color-x":[{"border-x":S()}],"border-color-y":[{"border-y":S()}],"border-color-s":[{"border-s":S()}],"border-color-e":[{"border-e":S()}],"border-color-t":[{"border-t":S()}],"border-color-r":[{"border-r":S()}],"border-color-b":[{"border-b":S()}],"border-color-l":[{"border-l":S()}],"divide-color":[{divide:S()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[L,nt,Y]}],"outline-w":[{outline:["",L,st,X]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",u,ut,it]}],"shadow-color":[{shadow:S()}],"inset-shadow":[{"inset-shadow":["none",nt,Y,h]}],"inset-shadow-color":[{"inset-shadow":S()}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:S()}],"ring-offset-w":[{"ring-offset":[L,X]}],"ring-offset-color":[{"ring-offset":S()}],"inset-ring-w":[{"inset-ring":A()}],"inset-ring-color":[{"inset-ring":S()}],opacity:[{opacity:[L,nt,Y]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none",nt,Y]}],blur:[{blur:P()}],brightness:[{brightness:[L,nt,Y]}],contrast:[{contrast:[L,nt,Y]}],"drop-shadow":[{"drop-shadow":["","none",d,nt,Y]}],grayscale:[{grayscale:["",L,nt,Y]}],"hue-rotate":[{"hue-rotate":[L,nt,Y]}],invert:[{invert:["",L,nt,Y]}],saturate:[{saturate:[L,nt,Y]}],sepia:[{sepia:["",L,nt,Y]}],"backdrop-filter":[{"backdrop-filter":["","none",nt,Y]}],"backdrop-blur":[{"backdrop-blur":P()}],"backdrop-brightness":[{"backdrop-brightness":[L,nt,Y]}],"backdrop-contrast":[{"backdrop-contrast":[L,nt,Y]}],"backdrop-grayscale":[{"backdrop-grayscale":["",L,nt,Y]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[L,nt,Y]}],"backdrop-invert":[{"backdrop-invert":["",L,nt,Y]}],"backdrop-opacity":[{"backdrop-opacity":[L,nt,Y]}],"backdrop-saturate":[{"backdrop-saturate":[L,nt,Y]}],"backdrop-sepia":[{"backdrop-sepia":["",L,nt,Y]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",nt,Y]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[L,"initial",nt,Y]}],ease:[{ease:["linear","initial",m,nt,Y]}],delay:[{delay:[L,nt,Y]}],animate:[{animate:["none",y,nt,Y]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,nt,Y]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:R()}],"rotate-x":[{"rotate-x":R()}],"rotate-y":[{"rotate-y":R()}],"rotate-z":[{"rotate-z":R()}],scale:[{scale:N()}],"scale-x":[{"scale-x":N()}],"scale-y":[{"scale-y":N()}],"scale-z":[{"scale-z":N()}],"scale-3d":["scale-3d"],skew:[{skew:C()}],"skew-x":[{"skew-x":C()}],"skew-y":[{"skew-y":C()}],transform:[{transform:[nt,Y,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:D()}],"translate-x":[{"translate-x":D()}],"translate-y":[{"translate-y":D()}],"translate-z":[{"translate-z":D()}],"translate-none":["translate-none"],accent:[{accent:S()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:S()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nt,Y]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nt,Y]}],fill:[{fill:["none",...S()]}],"stroke-w":[{stroke:[L,st,X,tt]}],stroke:[{stroke:["none",...S()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}})),kt=["top","right","bottom","left"],Ot=Math.min,jt=Math.max,St=Math.round,Tt=Math.floor,Et=t=>({x:t,y:t}),At={left:"right",right:"left",bottom:"top",top:"bottom"},Pt={start:"end",end:"start"};function $t(t,e,r){return jt(t,Ot(e,r))}function It(t,e){return"function"==typeof t?t(e):t}function Rt(t){return t.split("-")[0]}function Nt(t){return t.split("-")[1]}function Ct(t){return"x"===t?"y":"x"}function Dt(t){return"y"===t?"height":"width"}function Ft(t){return["top","bottom"].includes(Rt(t))?"y":"x"}function Mt(t){return Ct(Ft(t))}function Ut(t){return t.replace(/start|end/g,(t=>Pt[t]))}function zt(t){return t.replace(/left|right|bottom|top/g,(t=>At[t]))}function Lt(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function qt(t){const{x:e,y:r,width:i,height:n}=t;return{width:i,height:n,top:r,left:e,right:e+i,bottom:r+n,x:e,y:r}}function Bt(t,e,r){let{reference:i,floating:n}=t;const s=Ft(e),o=Mt(e),a=Dt(o),l=Rt(e),c="y"===s,u=i.x+i.width/2-n.width/2,h=i.y+i.height/2-n.height/2,d=i[a]/2-n[a]/2;let f;switch(l){case"top":f={x:u,y:i.y-n.height};break;case"bottom":f={x:u,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:h};break;case"left":f={x:i.x-n.width,y:h};break;default:f={x:i.x,y:i.y}}switch(Nt(e)){case"start":f[o]-=d*(r&&c?-1:1);break;case"end":f[o]+=d*(r&&c?-1:1)}return f}async function Zt(t,e){var r;void 0===e&&(e={});const{x:i,y:n,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=It(e,t),p=Lt(f),v=a[d?"floating"===h?"reference":"floating":h],m=qt(await s.getClippingRect({element:null==(r=await(null==s.isElement?void 0:s.isElement(v)))||r?v:v.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y="floating"===h?{x:i,y:n,width:o.floating.width,height:o.floating.height}:o.reference,w=await(null==s.getOffsetParent?void 0:s.getOffsetParent(a.floating)),b=await(null==s.isElement?void 0:s.isElement(w))&&await(null==s.getScale?void 0:s.getScale(w))||{x:1,y:1},g=qt(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:l}):y);return{top:(m.top-g.top+p.top)/b.y,bottom:(g.bottom-m.bottom+p.bottom)/b.y,left:(m.left-g.left+p.left)/b.x,right:(g.right-m.right+p.right)/b.x}}function Jt(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Gt(t){return kt.some((e=>t[e]>=0))}function Wt(){return"undefined"!=typeof window}function Kt(t){return Qt(t)?(t.nodeName||"").toLowerCase():"#document"}function Vt(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function Ht(t){var e;return null==(e=(Qt(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function Qt(t){return!!Wt()&&(t instanceof Node||t instanceof Vt(t).Node)}function Yt(t){return!!Wt()&&(t instanceof Element||t instanceof Vt(t).Element)}function Xt(t){return!!Wt()&&(t instanceof HTMLElement||t instanceof Vt(t).HTMLElement)}function te(t){return!(!Wt()||"undefined"==typeof ShadowRoot)&&(t instanceof ShadowRoot||t instanceof Vt(t).ShadowRoot)}function ee(t){const{overflow:e,overflowX:r,overflowY:i,display:n}=ae(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+r)&&!["inline","contents"].includes(n)}function re(t){return["table","td","th"].includes(Kt(t))}function ie(t){return[":popover-open",":modal"].some((e=>{try{return t.matches(e)}catch(r){return!1}}))}function ne(t){const e=se(),r=Yt(t)?ae(t):t;return["transform","translate","scale","rotate","perspective"].some((t=>!!r[t]&&"none"!==r[t]))||!!r.containerType&&"normal"!==r.containerType||!e&&!!r.backdropFilter&&"none"!==r.backdropFilter||!e&&!!r.filter&&"none"!==r.filter||["transform","translate","scale","rotate","perspective","filter"].some((t=>(r.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(r.contain||"").includes(t)))}function se(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function oe(t){return["html","body","#document"].includes(Kt(t))}function ae(t){return Vt(t).getComputedStyle(t)}function le(t){return Yt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ce(t){if("html"===Kt(t))return t;const e=t.assignedSlot||t.parentNode||te(t)&&t.host||Ht(t);return te(e)?e.host:e}function ue(t){const e=ce(t);return oe(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xt(e)&&ee(e)?e:ue(e)}function he(t,e,r){var i;void 0===e&&(e=[]),void 0===r&&(r=!0);const n=ue(t),s=n===(null==(i=t.ownerDocument)?void 0:i.body),o=Vt(n);if(s){const t=de(o);return e.concat(o,o.visualViewport||[],ee(n)?n:[],t&&r?he(t):[])}return e.concat(n,he(n,[],r))}function de(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function fe(t){const e=ae(t);let r=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const n=Xt(t),s=n?t.offsetWidth:r,o=n?t.offsetHeight:i,a=St(r)!==s||St(i)!==o;return a&&(r=s,i=o),{width:r,height:i,$:a}}function pe(t){return Yt(t)?t:t.contextElement}function ve(t){const e=pe(t);if(!Xt(e))return Et(1);const r=e.getBoundingClientRect(),{width:i,height:n,$:s}=fe(e);let o=(s?St(r.width):r.width)/i,a=(s?St(r.height):r.height)/n;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}const me=Et(0);function ye(t){const e=Vt(t);return se()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:me}function we(t,e,r,i){void 0===e&&(e=!1),void 0===r&&(r=!1);const n=t.getBoundingClientRect(),s=pe(t);let o=Et(1);e&&(i?Yt(i)&&(o=ve(i)):o=ve(t));const a=function(t,e,r){return void 0===e&&(e=!1),!(!r||e&&r!==Vt(t))&&e}(s,r,i)?ye(s):Et(0);let l=(n.left+a.x)/o.x,c=(n.top+a.y)/o.y,u=n.width/o.x,h=n.height/o.y;if(s){const t=Vt(s),e=i&&Yt(i)?Vt(i):i;let r=t,n=de(r);for(;n&&i&&e!==r;){const t=ve(n),e=n.getBoundingClientRect(),i=ae(n),s=e.left+(n.clientLeft+parseFloat(i.paddingLeft))*t.x,o=e.top+(n.clientTop+parseFloat(i.paddingTop))*t.y;l*=t.x,c*=t.y,u*=t.x,h*=t.y,l+=s,c+=o,r=Vt(n),n=de(r)}}return qt({width:u,height:h,x:l,y:c})}function be(t,e){const r=le(t).scrollLeft;return e?e.left+r:we(Ht(t)).left+r}function ge(t,e,r){void 0===r&&(r=!1);const i=t.getBoundingClientRect();return{x:i.left+e.scrollLeft-(r?0:be(t,i)),y:i.top+e.scrollTop}}function xe(t,e,r){let i;if("viewport"===e)i=function(t,e){const r=Vt(t),i=Ht(t),n=r.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(n){s=n.width,o=n.height;const t=se();(!t||t&&"fixed"===e)&&(a=n.offsetLeft,l=n.offsetTop)}return{width:s,height:o,x:a,y:l}}(t,r);else if("document"===e)i=function(t){const e=Ht(t),r=le(t),i=t.ownerDocument.body,n=jt(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=jt(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-r.scrollLeft+be(t);const a=-r.scrollTop;return"rtl"===ae(i).direction&&(o+=jt(e.clientWidth,i.clientWidth)-n),{width:n,height:s,x:o,y:a}}(Ht(t));else if(Yt(e))i=function(t,e){const r=we(t,!0,"fixed"===e),i=r.top+t.clientTop,n=r.left+t.clientLeft,s=Xt(t)?ve(t):Et(1);return{width:t.clientWidth*s.x,height:t.clientHeight*s.y,x:n*s.x,y:i*s.y}}(e,r);else{const r=ye(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return qt(i)}function _e(t,e){const r=ce(t);return!(r===e||!Yt(r)||oe(r))&&("fixed"===ae(r).position||_e(r,e))}function ke(t,e,r){const i=Xt(e),n=Ht(e),s="fixed"===r,o=we(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Et(0);if(i||!i&&!s)if(("body"!==Kt(e)||ee(n))&&(a=le(e)),i){const t=we(e,!0,s,e);l.x=t.x+e.clientLeft,l.y=t.y+e.clientTop}else n&&(l.x=be(n));const c=!n||i||s?Et(0):ge(n,a);return{x:o.left+a.scrollLeft-l.x-c.x,y:o.top+a.scrollTop-l.y-c.y,width:o.width,height:o.height}}function Oe(t){return"static"===ae(t).position}function je(t,e){if(!Xt(t)||"fixed"===ae(t).position)return null;if(e)return e(t);let r=t.offsetParent;return Ht(t)===r&&(r=r.ownerDocument.body),r}function Se(t,e){const r=Vt(t);if(ie(t))return r;if(!Xt(t)){let e=ce(t);for(;e&&!oe(e);){if(Yt(e)&&!Oe(e))return e;e=ce(e)}return r}let i=je(t,e);for(;i&&re(i)&&Oe(i);)i=je(i,e);return i&&oe(i)&&Oe(i)&&!ne(i)?r:i||function(t){let e=ce(t);for(;Xt(e)&&!oe(e);){if(ne(e))return e;if(ie(e))return null;e=ce(e)}return null}(t)||r}const Te={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:r,offsetParent:i,strategy:n}=t;const s="fixed"===n,o=Ht(i),a=!!e&&ie(e.floating);if(i===o||a&&s)return r;let l={scrollLeft:0,scrollTop:0},c=Et(1);const u=Et(0),h=Xt(i);if((h||!h&&!s)&&(("body"!==Kt(i)||ee(o))&&(l=le(i)),Xt(i))){const t=we(i);c=ve(i),u.x=t.x+i.clientLeft,u.y=t.y+i.clientTop}const d=!o||h||s?Et(0):ge(o,l,!0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:r.y*c.y-l.scrollTop*c.y+u.y+d.y}},getDocumentElement:Ht,getClippingRect:function(t){let{element:e,boundary:r,rootBoundary:i,strategy:n}=t;const s=[..."clippingAncestors"===r?ie(e)?[]:function(t,e){const r=e.get(t);if(r)return r;let i=he(t,[],!1).filter((t=>Yt(t)&&"body"!==Kt(t))),n=null;const s="fixed"===ae(t).position;let o=s?ce(t):t;for(;Yt(o)&&!oe(o);){const e=ae(o),r=ne(o);r||"fixed"!==e.position||(n=null),(s?!r&&!n:!r&&"static"===e.position&&n&&["absolute","fixed"].includes(n.position)||ee(o)&&!r&&_e(t,o))?i=i.filter((t=>t!==o)):n=e,o=ce(o)}return e.set(t,i),i}(e,this.t):[].concat(r),i],o=s[0],a=s.reduce(((t,r)=>{const i=xe(e,r,n);return t.top=jt(i.top,t.top),t.right=Ot(i.right,t.right),t.bottom=Ot(i.bottom,t.bottom),t.left=jt(i.left,t.left),t}),xe(e,o,n));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:Se,getElementRects:async function(t){const e=this.getOffsetParent||Se,r=this.getDimensions,i=await r(t.floating);return{reference:ke(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:r}=fe(t);return{width:e,height:r}},getScale:ve,isElement:Yt,isRTL:function(t){return"rtl"===ae(t).direction}};function Ee(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Ae(t,e,r,i){void 0===i&&(i={});const{ancestorScroll:n=!0,ancestorResize:s=!0,elementResize:o="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=i,c=pe(t),u=n||s?[...c?he(c):[],...he(e)]:[];u.forEach((t=>{n&&t.addEventListener("scroll",r,{passive:!0}),s&&t.addEventListener("resize",r)}));const h=c&&a?function(t,e){let r,i=null;const n=Ht(t);function s(){var t;clearTimeout(r),null==(t=i)||t.disconnect(),i=null}return function o(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:h,width:d,height:f}=c;if(a||e(),!d||!f)return;const p={rootMargin:-Tt(h)+"px "+-Tt(n.clientWidth-(u+d))+"px "+-Tt(n.clientHeight-(h+f))+"px "+-Tt(u)+"px",threshold:jt(0,Ot(1,l))||1};let v=!0;function m(e){const i=e[0].intersectionRatio;if(i!==l){if(!v)return o();i?o(!1,i):r=setTimeout((()=>{o(!1,1e-7)}),1e3)}1!==i||Ee(c,t.getBoundingClientRect())||o(),v=!1}try{i=new IntersectionObserver(m,{...p,root:n.ownerDocument})}catch(y){i=new IntersectionObserver(m,p)}i.observe(t)}(!0),s}(c,r):null;let d,f=-1,p=null;o&&(p=new ResizeObserver((t=>{let[i]=t;i&&i.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var t;null==(t=p)||t.observe(e)}))),r()})),c&&!l&&p.observe(c),p.observe(e));let v=l?we(t):null;return l&&function e(){const i=we(t);v&&!Ee(v,i)&&r(),v=i,d=requestAnimationFrame(e)}(),r(),()=>{var t;u.forEach((t=>{n&&t.removeEventListener("scroll",r),s&&t.removeEventListener("resize",r)})),null==h||h(),null==(t=p)||t.disconnect(),p=null,l&&cancelAnimationFrame(d)}}const Pe=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var r,i;const{x:n,y:s,placement:o,middlewareData:a}=e,l=await async function(t,e){const{placement:r,platform:i,elements:n}=t,s=await(null==i.isRTL?void 0:i.isRTL(n.floating)),o=Rt(r),a=Nt(r),l="y"===Ft(r),c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,h=It(e,t);let{mainAxis:d,crossAxis:f,alignmentAxis:p}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&"number"==typeof p&&(f="end"===a?-1*p:p),l?{x:f*u,y:d*c}:{x:d*c,y:f*u}}(e,t);return o===(null==(r=a.offset)?void 0:r.placement)&&null!=(i=a.arrow)&&i.alignmentOffset?{}:{x:n+l.x,y:s+l.y,data:{...l,placement:o}}}}},$e=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:i,placement:n}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:t=>{let{x:e,y:r}=t;return{x:e,y:r}}},...l}=It(t,e),c={x:r,y:i},u=await Zt(e,l),h=Ft(Rt(n)),d=Ct(h);let f=c[d],p=c[h];if(s){const t="y"===d?"bottom":"right";f=$t(f+u["y"===d?"top":"left"],f,f-u[t])}if(o){const t="y"===h?"bottom":"right";p=$t(p+u["y"===h?"top":"left"],p,p-u[t])}const v=a.fn({...e,[d]:f,[h]:p});return{...v,data:{x:v.x-r,y:v.y-i,enabled:{[d]:s,[h]:o}}}}}},Ie=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var r,i;const{placement:n,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:v=!0,...m}=It(t,e);if(null!=(r=s.arrow)&&r.alignmentOffset)return{};const y=Rt(n),w=Ft(a),b=Rt(a)===a,g=await(null==l.isRTL?void 0:l.isRTL(c.floating)),x=d||(b||!v?[zt(a)]:function(t){const e=zt(t);return[Ut(t),e,Ut(e)]}(a)),_="none"!==p;!d&&_&&x.push(...function(t,e,r,i){const n=Nt(t);let s=function(t,e,r){const i=["left","right"],n=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?n:i:e?i:n;case"left":case"right":return e?s:o;default:return[]}}(Rt(t),"start"===r,i);return n&&(s=s.map((t=>t+"-"+n)),e&&(s=s.concat(s.map(Ut)))),s}(a,v,p,g));const k=[a,...x],O=await Zt(e,m),j=[];let S=(null==(i=s.flip)?void 0:i.overflows)||[];if(u&&j.push(O[y]),h){const t=function(t,e,r){void 0===r&&(r=!1);const i=Nt(t),n=Mt(t),s=Dt(n);let o="x"===n?i===(r?"end":"start")?"right":"left":"start"===i?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=zt(o)),[o,zt(o)]}(n,o,g);j.push(O[t[0]],O[t[1]])}if(S=[...S,{placement:n,overflows:j}],!j.every((t=>0>=t))){var T,E;const t=((null==(T=s.flip)?void 0:T.index)||0)+1,e=k[t];if(e)return{data:{index:t,overflows:S},reset:{placement:e}};let r=null==(E=S.filter((t=>0>=t.overflows[0])).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:E.placement;if(!r)switch(f){case"bestFit":{var A;const t=null==(A=S.filter((t=>{if(_){const e=Ft(t.placement);return e===w||"y"===e}return!0})).map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:A[0];t&&(r=t);break}case"initialPlacement":r=a}if(n!==r)return{reset:{placement:r}}}return{}}}},Re=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){var r,i;const{placement:n,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=It(t,e),u=await Zt(e,c),h=Rt(n),d=Nt(n),f="y"===Ft(n),{width:p,height:v}=s.floating;let m,y;"top"===h||"bottom"===h?(m=h,y=d===(await(null==o.isRTL?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=h,m="end"===d?"top":"bottom");const w=v-u.top-u.bottom,b=p-u.left-u.right,g=Ot(v-u[m],w),x=Ot(p-u[y],b),_=!e.middlewareData.shift;let k=g,O=x;if(null!=(r=e.middlewareData.shift)&&r.enabled.x&&(O=b),null!=(i=e.middlewareData.shift)&&i.enabled.y&&(k=w),_&&!d){const t=jt(u.left,0),e=jt(u.right,0),r=jt(u.top,0),i=jt(u.bottom,0);f?O=p-2*(0!==t||0!==e?t+e:jt(u.left,u.right)):k=v-2*(0!==r||0!==i?r+i:jt(u.top,u.bottom))}await l({...e,availableWidth:O,availableHeight:k});const j=await o.getDimensions(a.floating);return p!==j.width||v!==j.height?{reset:{rects:!0}}:{}}}},Ne=function(t){return void 0===t&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:i="referenceHidden",...n}=It(t,e);switch(i){case"referenceHidden":{const t=Jt(await Zt(e,{...n,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:t,referenceHidden:Gt(t)}}}case"escaped":{const t=Jt(await Zt(e,{...n,altBoundary:!0}),r.floating);return{data:{escapedOffsets:t,escaped:Gt(t)}}}default:return{}}}}},Ce=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:i,placement:n,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=It(t,e)||{};if(null==c)return{};const h=Lt(u),d={x:r,y:i},f=Mt(n),p=Dt(f),v=await o.getDimensions(c),m="y"===f,y=m?"top":"left",w=m?"bottom":"right",b=m?"clientHeight":"clientWidth",g=s.reference[p]+s.reference[f]-d[f]-s.floating[p],x=d[f]-s.reference[f],_=await(null==o.getOffsetParent?void 0:o.getOffsetParent(c));let k=_?_[b]:0;k&&await(null==o.isElement?void 0:o.isElement(_))||(k=a.floating[b]||s.floating[p]);const O=g/2-x/2,j=k/2-v[p]/2-1,S=Ot(h[y],j),T=Ot(h[w],j),E=S,A=k-v[p]-T,P=k/2-v[p]/2+O,$=$t(E,P,A),I=!l.arrow&&null!=Nt(n)&&P!==$&&0>s.reference[p]/2-(E>P?S:T)-v[p]/2,R=I?E>P?P-E:P-A:0;return{[f]:d[f]+R,data:{[f]:$,centerOffset:P-$-R,...I&&{alignmentOffset:R}},reset:I}}}),De=function(t){return void 0===t&&(t={}),{options:t,fn(e){const{x:r,y:i,placement:n,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=It(t,e),u={x:r,y:i},h=Ft(n),d=Ct(h);let f=u[d],p=u[h];const v=It(a,e),m="number"==typeof v?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const t="y"===d?"height":"width",e=s.reference[d]-s.floating[t]+m.mainAxis,r=s.reference[d]+s.reference[t]-m.mainAxis;e>f?f=e:f>r&&(f=r)}if(c){var y,w;const t="y"===d?"width":"height",e=["top","left"].includes(Rt(n)),r=s.reference[h]-s.floating[t]+(e&&(null==(y=o.offset)?void 0:y[h])||0)+(e?0:m.crossAxis),i=s.reference[h]+s.reference[t]+(e?0:(null==(w=o.offset)?void 0:w[h])||0)-(e?m.crossAxis:0);r>p?p=r:p>i&&(p=i)}return{[d]:f,[h]:p}}}},Fe=(t,e,r)=>{const i=new Map,n={platform:Te,...r},s={...n.platform,t:i};return(async(t,e,r)=>{const{placement:i="bottom",strategy:n="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),l=await(null==o.isRTL?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:n}),{x:u,y:h}=Bt(c,i,l),d=i,f={},p=0;for(let v=0;v<a.length;v++){const{name:r,fn:s}=a[v],{x:m,y:y,data:w,reset:b}=await s({x:u,y:h,initialPlacement:i,placement:d,strategy:n,middlewareData:f,rects:c,platform:o,elements:{reference:t,floating:e}});u=null!=m?m:u,h=null!=y?y:h,f={...f,[r]:{...f[r],...w}},b&&50>=p&&(p++,"object"==typeof b&&(b.placement&&(d=b.placement),b.rects&&(c=!0===b.rects?await o.getElementRects({reference:t,floating:e,strategy:n}):b.rects),({x:u,y:h}=Bt(c,d,l))),v=-1)}return{x:u,y:h,placement:d,strategy:n,middlewareData:f}})(t,e,{...n,platform:s})};var Me=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ue="undefined"==typeof window||"Deno"in globalThis;function ze(){}function Le(t){return"number"==typeof t&&t>=0&&t!==1/0}function qe(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Be(t,e){return"function"==typeof t?t(e):t}function Ze(t,e){return"function"==typeof t?t(e):t}function Je(t,e){const{type:r="all",exact:i,fetchStatus:n,predicate:s,queryKey:o,stale:a}=t;if(o)if(i){if(e.queryHash!==We(o,e.options))return!1}else if(!Ve(e.queryKey,o))return!1;if("all"!==r){const t=e.isActive();if("active"===r&&!t)return!1;if("inactive"===r&&t)return!1}return!("boolean"==typeof a&&e.isStale()!==a||n&&n!==e.state.fetchStatus||s&&!s(e))}function Ge(t,e){const{exact:r,status:i,predicate:n,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Ke(e.options.mutationKey)!==Ke(s))return!1}else if(!Ve(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||n&&!n(e))}function We(t,e){return(e?.queryKeyHashFn||Ke)(t)}function Ke(t){return JSON.stringify(t,((t,e)=>Xe(e)?Object.keys(e).sort().reduce(((t,r)=>(t[r]=e[r],t)),{}):e))}function Ve(t,e){return t===e||typeof t==typeof e&&!(!t||!e||"object"!=typeof t||"object"!=typeof e)&&!Object.keys(e).some((r=>!Ve(t[r],e[r])))}function He(t,e){if(t===e)return t;const r=Ye(t)&&Ye(e);if(r||Xe(t)&&Xe(e)){const i=r?t:Object.keys(t),n=i.length,s=r?e:Object.keys(e),o=s.length,a=r?[]:{};let l=0;for(let c=0;o>c;c++){const n=r?c:s[c];(!r&&i.includes(n)||r)&&void 0===t[n]&&void 0===e[n]?(a[n]=void 0,l++):(a[n]=He(t[n],e[n]),a[n]===t[n]&&void 0!==t[n]&&l++)}return n===o&&l===n?t:a}return e}function Qe(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Ye(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Xe(t){if(!tr(t))return!1;const e=t.constructor;if(void 0===e)return!0;const r=e.prototype;return!!tr(r)&&!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(t)===Object.prototype}function tr(t){return"[object Object]"==={}.toString.call(t)}function er(t,e,r){return"function"==typeof r.structuralSharing?r.structuralSharing(t,e):!1!==r.structuralSharing?He(t,e):e}function rr(t,e,r=0){const i=[...t,e];return r&&i.length>r?i.slice(1):i}function ir(t,e,r=0){const i=[e,...t];return r&&i.length>r?i.slice(0,-1):i}var nr=Symbol();function sr(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:t.queryFn&&t.queryFn!==nr?t.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${t.queryHash}'`))}var or=new class extends Me{#t;#e;#r;constructor(){super(),this.#r=t=>{if(!Ue&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t((t=>{"boolean"==typeof t?this.setFocused(t):this.onFocus()}))}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach((e=>{e(t)}))}isFocused(){return"boolean"==typeof this.#t?this.#t:"hidden"!==globalThis.document?.visibilityState}},ar=new class extends Me{#i=!0;#e;#r;constructor(){super(),this.#r=t=>{if(!Ue&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#i!==t&&(this.#i=t,this.listeners.forEach((e=>{e(t)})))}isOnline(){return this.#i}};function lr(){let t,e;const r=new Promise(((r,i)=>{t=r,e=i}));function i(t){Object.assign(r,t),delete r.resolve,delete r.reject}return r.status="pending",r.catch((()=>{})),r.resolve=e=>{i({status:"fulfilled",value:e}),t(e)},r.reject=t=>{i({status:"rejected",reason:t}),e(t)},r}function cr(t){return Math.min(1e3*2**t,3e4)}function ur(t){return"online"!==(t??"online")||ar.isOnline()}var hr=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function dr(t){return t instanceof hr}function fr(t){let e,r=!1,i=0,n=!1;const s=lr(),o=()=>or.isFocused()&&("always"===t.networkMode||ar.isOnline())&&t.canRun(),a=()=>ur(t.networkMode)&&t.canRun(),l=r=>{n||(n=!0,t.onSuccess?.(r),e?.(),s.resolve(r))},c=r=>{n||(n=!0,t.onError?.(r),e?.(),s.reject(r))},u=()=>new Promise((r=>{e=t=>{(n||o())&&r(t)},t.onPause?.()})).then((()=>{e=void 0,n||t.onContinue?.()})),h=()=>{if(n)return;let e;const s=0===i?t.initialPromise:void 0;try{e=s??t.fn()}catch(a){e=Promise.reject(a)}Promise.resolve(e).then(l).catch((e=>{if(n)return;const s=t.retry??(Ue?0:3),a=t.retryDelay??cr,l="function"==typeof a?a(i,e):a,d=!0===s||"number"==typeof s&&s>i||"function"==typeof s&&s(i,e);var f;!r&&d?(i++,t.onFail?.(i,e),(f=l,new Promise((t=>{setTimeout(t,f)}))).then((()=>o()?void 0:u())).then((()=>{r?c(e):h()}))):c(e)}))};return{promise:s,cancel:e=>{n||(c(new hr(e)),t.abort?.())},continue:()=>(e?.(),s),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:a,start:()=>(a()?h():u().then(h),s)}}var pr=function(){let t=[],e=0,r=t=>{t()},i=t=>{t()},n=t=>setTimeout(t,0);const s=i=>{e?t.push(i):n((()=>{r(i)}))};return{batch:s=>{let o;e++;try{o=s()}finally{e--,e||(()=>{const e=t;t=[],e.length&&n((()=>{i((()=>{e.forEach((t=>{r(t)}))}))}))})()}return o},batchCalls:t=>(...e)=>{s((()=>{t(...e)}))},schedule:s,setNotifyFunction:t=>{r=t},setBatchNotifyFunction:t=>{i=t},setScheduler:t=>{n=t}}}(),vr=class{#n;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Le(this.gcTime)&&(this.#n=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ue?1/0:3e5))}clearGcTimeout(){this.#n&&(clearTimeout(this.#n),this.#n=void 0)}},mr=class extends vr{#s;#o;#a;#l;#c;#u;#h;constructor(t){super(),this.#h=!1,this.#u=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#l=t.client,this.#a=this.#l.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#s=function(t){const e="function"==typeof t.initialData?t.initialData():t.initialData,r=void 0!==e,i=r?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=t.state??this.#s,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#c?.promise}setOptions(t){this.options={...this.#u,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#a.remove(this)}setData(t,e){const r=er(this.state.data,t,this.options);return this.#d({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#d({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#c?.promise;return this.#c?.cancel(t),e?e.then(ze).catch(ze):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#s)}isActive(){return this.observers.some((t=>!1!==Ze(t.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===nr||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((t=>t.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(t=0){return this.state.isInvalidated||void 0===this.state.data||!qe(this.state.dataUpdatedAt,t)}onFocus(){const t=this.observers.find((t=>t.shouldFetchOnWindowFocus()));t?.refetch({cancelRefetch:!1}),this.#c?.continue()}onOnline(){const t=this.observers.find((t=>t.shouldFetchOnReconnect()));t?.refetch({cancelRefetch:!1}),this.#c?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#a.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter((e=>e!==t)),this.observers.length||(this.#c&&(this.#h?this.#c.cancel({revert:!0}):this.#c.cancelRetry()),this.scheduleGc()),this.#a.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#d({type:"invalidate"})}fetch(t,e){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#c)return this.#c.continueRetry(),this.#c.promise;if(t&&this.setOptions(t),!this.options.queryFn){const t=this.observers.find((t=>t.options.queryFn));t&&this.setOptions(t.options)}const r=new AbortController,i=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(this.#h=!0,r.signal)})},n={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#l,state:this.state,fetchFn:()=>{const t=sr(this.options,e),r={client:this.#l,queryKey:this.queryKey,meta:this.meta};return i(r),this.#h=!1,this.options.persister?this.options.persister(t,r,this):t(r)}};i(n),this.options.behavior?.onFetch(n,this),this.#o=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===n.fetchOptions?.meta||this.#d({type:"fetch",meta:n.fetchOptions?.meta});const s=t=>{dr(t)&&t.silent||this.#d({type:"error",error:t}),dr(t)||(this.#a.config.onError?.(t,this),this.#a.config.onSettled?.(this.state.data,t,this)),this.scheduleGc()};return this.#c=fr({initialPromise:e?.initialPromise,fn:n.fetchFn,abort:r.abort.bind(r),onSuccess:t=>{if(void 0!==t){try{this.setData(t)}catch(e){return void s(e)}this.#a.config.onSuccess?.(t,this),this.#a.config.onSettled?.(t,this.state.error,this),this.scheduleGc()}else s(Error(this.queryHash+" data is undefined"))},onError:s,onFail:(t,e)=>{this.#d({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#d({type:"pause"})},onContinue:()=>{this.#d({type:"continue"})},retry:n.options.retry,retryDelay:n.options.retryDelay,networkMode:n.options.networkMode,canRun:()=>!0}),this.#c.start()}#d(t){this.state=(e=>{switch(t.type){case"failed":return{...e,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,...yr(e.data,this.options),fetchMeta:t.meta??null};case"success":return{...e,data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return dr(r)&&r.revert&&this.#o?{...this.#o,fetchStatus:"idle"}:{...e,error:r,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...t.state}}})(this.state),pr.batch((()=>{this.observers.forEach((t=>{t.onQueryUpdate()})),this.#a.notify({query:this,type:"updated",action:t})}))}};function yr(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ur(e.networkMode)?"fetching":"paused",...void 0===t&&{error:null,status:"pending"}}}var wr=class extends Me{constructor(t={}){super(),this.config=t,this.#f=new Map}#f;build(t,e,r){const i=e.queryKey,n=e.queryHash??We(i,e);let s=this.get(n);return s||(s=new mr({client:t,queryKey:i,queryHash:n,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){this.#f.has(t.queryHash)||(this.#f.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#f.get(t.queryHash);e&&(t.destroy(),e===t&&this.#f.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){pr.batch((()=>{this.getAll().forEach((t=>{this.remove(t)}))}))}get(t){return this.#f.get(t)}getAll(){return[...this.#f.values()]}find(t){const e={exact:!0,...t};return this.getAll().find((t=>Je(e,t)))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter((e=>Je(t,e))):e}notify(t){pr.batch((()=>{this.listeners.forEach((e=>{e(t)}))}))}onFocus(){pr.batch((()=>{this.getAll().forEach((t=>{t.onFocus()}))}))}onOnline(){pr.batch((()=>{this.getAll().forEach((t=>{t.onOnline()}))}))}},br=class extends vr{#p;#v;#c;constructor(t){super(),this.mutationId=t.mutationId,this.#v=t.mutationCache,this.#p=[],this.state=t.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#p.includes(t)||(this.#p.push(t),this.clearGcTimeout(),this.#v.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#p=this.#p.filter((e=>e!==t)),this.scheduleGc(),this.#v.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#p.length||("pending"===this.state.status?this.scheduleGc():this.#v.remove(this))}continue(){return this.#c?.continue()??this.execute(this.state.variables)}async execute(t){this.#c=fr({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(Error("No mutationFn found")),onFail:(t,e)=>{this.#d({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#d({type:"pause"})},onContinue:()=>{this.#d({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#v.canRun(this)});const e="pending"===this.state.status,r=!this.#c.canStart();try{if(!e){this.#d({type:"pending",variables:t,isPaused:r}),await(this.#v.config.onMutate?.(t,this));const e=await(this.options.onMutate?.(t));e!==this.state.context&&this.#d({type:"pending",context:e,variables:t,isPaused:r})}const i=await this.#c.start();return await(this.#v.config.onSuccess?.(i,t,this.state.context,this)),await(this.options.onSuccess?.(i,t,this.state.context)),await(this.#v.config.onSettled?.(i,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(i,null,t,this.state.context)),this.#d({type:"success",data:i}),i}catch(i){try{throw await(this.#v.config.onError?.(i,t,this.state.context,this)),await(this.options.onError?.(i,t,this.state.context)),await(this.#v.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,i,t,this.state.context)),i}finally{this.#d({type:"error",error:i})}}finally{this.#v.runNext(this)}}#d(t){this.state=(e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}})(this.state),pr.batch((()=>{this.#p.forEach((e=>{e.onMutationUpdate(t)})),this.#v.notify({mutation:this,type:"updated",action:t})}))}},gr=class extends Me{constructor(t={}){super(),this.config=t,this.#m=new Set,this.#y=new Map,this.#w=0}#m;#y;#w;build(t,e,r){const i=new br({mutationCache:this,mutationId:++this.#w,options:t.defaultMutationOptions(e),state:r});return this.add(i),i}add(t){this.#m.add(t);const e=xr(t);if("string"==typeof e){const r=this.#y.get(e);r?r.push(t):this.#y.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#m.delete(t)){const e=xr(t);if("string"==typeof e){const r=this.#y.get(e);if(r)if(r.length>1){const e=r.indexOf(t);-1!==e&&r.splice(e,1)}else r[0]===t&&this.#y.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=xr(t);if("string"==typeof e){const r=this.#y.get(e),i=r?.find((t=>"pending"===t.state.status));return!i||i===t}return!0}runNext(t){const e=xr(t);if("string"==typeof e){const r=this.#y.get(e)?.find((e=>e!==t&&e.state.isPaused));return r?.continue()??Promise.resolve()}return Promise.resolve()}clear(){pr.batch((()=>{this.#m.forEach((t=>{this.notify({type:"removed",mutation:t})})),this.#m.clear(),this.#y.clear()}))}getAll(){return Array.from(this.#m)}find(t){const e={exact:!0,...t};return this.getAll().find((t=>Ge(e,t)))}findAll(t={}){return this.getAll().filter((e=>Ge(t,e)))}notify(t){pr.batch((()=>{this.listeners.forEach((e=>{e(t)}))}))}resumePausedMutations(){const t=this.getAll().filter((t=>t.state.isPaused));return pr.batch((()=>Promise.all(t.map((t=>t.continue().catch(ze))))))}};function xr(t){return t.options.scope?.id}function _r(t){return{onFetch:(e,r)=>{const i=e.options,n=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let r=!1;const c=sr(e.options,e.fetchOptions),u=async(t,i,n)=>{if(r)return Promise.reject();if(null==i&&t.pages.length)return Promise.resolve(t);const s={client:e.client,queryKey:e.queryKey,pageParam:i,direction:n?"backward":"forward",meta:e.options.meta};Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(e.signal.aborted?r=!0:e.signal.addEventListener("abort",(()=>{r=!0})),e.signal)});const o=await c(s),{maxPages:a}=e.options,l=n?ir:rr;return{pages:l(t.pages,o,a),pageParams:l(t.pageParams,i,a)}};if(n&&s.length){const t="backward"===n,e={pages:s,pageParams:o},r=(t?Or:kr)(i,e);a=await u(e,r,t)}else{const e=t??s.length;do{const t=0===l?o[0]??i.initialPageParam:kr(i,a);if(l>0&&null==t)break;a=await u(a,t),l++}while(e>l)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=c}}}function kr(t,{pages:e,pageParams:r}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,r[i],r):void 0}function Or(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var jr=class{#b;#v;#u;#g;#x;#_;#k;#O;constructor(t={}){this.#b=t.queryCache||new wr,this.#v=t.mutationCache||new gr,this.#u=t.defaultOptions||{},this.#g=new Map,this.#x=new Map,this.#_=0}mount(){this.#_++,1===this.#_&&(this.#k=or.subscribe((async t=>{t&&(await this.resumePausedMutations(),this.#b.onFocus())})),this.#O=ar.subscribe((async t=>{t&&(await this.resumePausedMutations(),this.#b.onOnline())})))}unmount(){this.#_--,0===this.#_&&(this.#k?.(),this.#k=void 0,this.#O?.(),this.#O=void 0)}isFetching(t){return this.#b.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#v.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#b.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#b.build(this,e),i=r.state.data;return void 0===i?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Be(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#b.findAll(t).map((({queryKey:t,state:e})=>[t,e.data]))}setQueryData(t,e,r){const i=this.defaultQueryOptions({queryKey:t}),n=this.#b.get(i.queryHash),s=n?.state.data,o=function(t,e){return"function"==typeof t?t(e):t}(e,s);if(void 0!==o)return this.#b.build(this,i).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return pr.batch((()=>this.#b.findAll(t).map((({queryKey:t})=>[t,this.setQueryData(t,e,r)]))))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#b.get(e.queryHash)?.state}removeQueries(t){const e=this.#b;pr.batch((()=>{e.findAll(t).forEach((t=>{e.remove(t)}))}))}resetQueries(t,e){const r=this.#b;return pr.batch((()=>(r.findAll(t).forEach((t=>{t.reset()})),this.refetchQueries({type:"active",...t},e))))}cancelQueries(t,e={}){const r={revert:!0,...e},i=pr.batch((()=>this.#b.findAll(t).map((t=>t.cancel(r)))));return Promise.all(i).then(ze).catch(ze)}invalidateQueries(t,e={}){return pr.batch((()=>(this.#b.findAll(t).forEach((t=>{t.invalidate()})),"none"===t?.refetchType?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e))))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},i=pr.batch((()=>this.#b.findAll(t).filter((t=>!t.isDisabled())).map((t=>{let e=t.fetch(void 0,r);return r.throwOnError||(e=e.catch(ze)),"paused"===t.state.fetchStatus?Promise.resolve():e}))));return Promise.all(i).then(ze)}fetchQuery(t){const e=this.defaultQueryOptions(t);void 0===e.retry&&(e.retry=!1);const r=this.#b.build(this,e);return r.isStaleByTime(Be(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ze).catch(ze)}fetchInfiniteQuery(t){return t.behavior=_r(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ze).catch(ze)}ensureInfiniteQueryData(t){return t.behavior=_r(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ar.isOnline()?this.#v.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#b}getMutationCache(){return this.#v}getDefaultOptions(){return this.#u}setDefaultOptions(t){this.#u=t}setQueryDefaults(t,e){this.#g.set(Ke(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#g.values()],r={};return e.forEach((e=>{Ve(t,e.queryKey)&&Object.assign(r,e.defaultOptions)})),r}setMutationDefaults(t,e){this.#x.set(Ke(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#x.values()],r={};return e.forEach((e=>{Ve(t,e.mutationKey)&&Object.assign(r,e.defaultOptions)})),r}defaultQueryOptions(t){if(t.i)return t;const e={...this.#u.queries,...this.getQueryDefaults(t.queryKey),...t,i:!0};return e.queryHash||(e.queryHash=We(e.queryKey,e)),void 0===e.refetchOnReconnect&&(e.refetchOnReconnect="always"!==e.networkMode),void 0===e.throwOnError&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===nr&&(e.enabled=!1),e}defaultMutationOptions(t){return t?.i?t:{...this.#u.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,i:!0}}clear(){this.#b.clear(),this.#v.clear()}},Sr=class extends Me{constructor(t,e){super(),this.options=e,this.#l=t,this.#j=null,this.#S=lr(),this.options.experimental_prefetchInRender||this.#S.reject(Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#l;#T=void 0;#E=void 0;#A=void 0;#P;#$;#S;#j;#I;#R;#N;#C;#D;#F;#M=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#T.addObserver(this),Tr(this.#T,this.options)?this.#U():this.updateResult(),this.#z())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Er(this.#T,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Er(this.#T,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#L(),this.#q(),this.#T.removeObserver(this)}setOptions(t,e){const r=this.options,i=this.#T;if(this.options=this.#l.defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof Ze(this.options.enabled,this.#T))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#B(),this.#T.setOptions(this.options),r.i&&!Qe(this.options,r)&&this.#l.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#T,observer:this});const n=this.hasListeners();n&&Ar(this.#T,i,this.options,r)&&this.#U(),this.updateResult(e),!n||this.#T===i&&Ze(this.options.enabled,this.#T)===Ze(r.enabled,this.#T)&&Be(this.options.staleTime,this.#T)===Be(r.staleTime,this.#T)||this.#Z();const s=this.#J();!n||this.#T===i&&Ze(this.options.enabled,this.#T)===Ze(r.enabled,this.#T)&&s===this.#F||this.#G(s)}getOptimisticResult(t){const e=this.#l.getQueryCache().build(this.#l,t),r=this.createResult(e,t);return i=r,!Qe(this.getCurrentResult(),i)&&(this.#A=r,this.#$=this.options,this.#P=this.#T.state),r;var i}getCurrentResult(){return this.#A}trackResult(t,e){const r={};return Object.keys(t).forEach((i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),e?.(i),t[i])})})),r}trackProp(t){this.#M.add(t)}getCurrentQuery(){return this.#T}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#l.defaultQueryOptions(t),r=this.#l.getQueryCache().build(this.#l,e);return r.fetch().then((()=>this.createResult(r,e)))}fetch(t){return this.#U({...t,cancelRefetch:t.cancelRefetch??!0}).then((()=>(this.updateResult(),this.#A)))}#U(t){this.#B();let e=this.#T.fetch(this.options,t);return t?.throwOnError||(e=e.catch(ze)),e}#Z(){this.#L();const t=Be(this.options.staleTime,this.#T);if(Ue||this.#A.isStale||!Le(t))return;const e=qe(this.#A.dataUpdatedAt,t)+1;this.#C=setTimeout((()=>{this.#A.isStale||this.updateResult()}),e)}#J(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#T):this.options.refetchInterval)??!1}#G(t){this.#q(),this.#F=t,!Ue&&!1!==Ze(this.options.enabled,this.#T)&&Le(this.#F)&&0!==this.#F&&(this.#D=setInterval((()=>{(this.options.refetchIntervalInBackground||or.isFocused())&&this.#U()}),this.#F))}#z(){this.#Z(),this.#G(this.#J())}#L(){this.#C&&(clearTimeout(this.#C),this.#C=void 0)}#q(){this.#D&&(clearInterval(this.#D),this.#D=void 0)}createResult(t,e){const r=this.#T,i=this.options,n=this.#A,s=this.#P,o=this.#$,a=t!==r?t.state:this.#E,{state:l}=t;let c,u={...l},h=!1;if(e.o){const n=this.hasListeners(),s=!n&&Tr(t,e),o=n&&Ar(t,r,e,i);(s||o)&&(u={...u,...yr(l.data,t.options)}),"isRestoring"===e.o&&(u.fetchStatus="idle")}let{error:d,errorUpdatedAt:f,status:p}=u;if(e.select&&void 0!==u.data)if(n&&u.data===s?.data&&e.select===this.#I)c=this.#R;else try{this.#I=e.select,c=e.select(u.data),c=er(n?.data,c,e),this.#R=c,this.#j=null}catch(x){this.#j=x}else c=u.data;if(void 0!==e.placeholderData&&void 0===c&&"pending"===p){let t;if(n?.isPlaceholderData&&e.placeholderData===o?.placeholderData)t=n.data;else if(t="function"==typeof e.placeholderData?e.placeholderData(this.#N?.state.data,this.#N):e.placeholderData,e.select&&void 0!==t)try{t=e.select(t),this.#j=null}catch(x){this.#j=x}void 0!==t&&(p="success",c=er(n?.data,t,e),h=!0)}this.#j&&(d=this.#j,c=this.#R,f=Date.now(),p="error");const v="fetching"===u.fetchStatus,m="pending"===p,y="error"===p,w=m&&v,b=void 0!==c,g={status:p,fetchStatus:u.fetchStatus,isPending:m,isSuccess:"success"===p,isError:y,isInitialLoading:w,isLoading:w,data:c,dataUpdatedAt:u.dataUpdatedAt,error:d,errorUpdatedAt:f,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>a.dataUpdateCount||u.errorUpdateCount>a.errorUpdateCount,isFetching:v,isRefetching:v&&!m,isLoadingError:y&&!b,isPaused:"paused"===u.fetchStatus,isPlaceholderData:h,isRefetchError:y&&b,isStale:Pr(t,e),refetch:this.refetch,promise:this.#S};if(this.options.experimental_prefetchInRender){const e=t=>{"error"===g.status?t.reject(g.error):void 0!==g.data&&t.resolve(g.data)},i=()=>{const t=this.#S=g.promise=lr();e(t)},n=this.#S;switch(n.status){case"pending":t.queryHash===r.queryHash&&e(n);break;case"fulfilled":"error"!==g.status&&g.data===n.value||i();break;case"rejected":"error"===g.status&&g.error===n.reason||i()}}return g}updateResult(t){const e=this.#A,r=this.createResult(this.#T,this.options);if(this.#P=this.#T.state,this.#$=this.options,void 0!==this.#P.data&&(this.#N=this.#T),Qe(r,e))return;this.#A=r;const i={};!1!==t?.listeners&&(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#M.size)return!0;const i=new Set(r??this.#M);return this.options.throwOnError&&i.add("error"),Object.keys(this.#A).some((t=>{const r=t;return this.#A[r]!==e[r]&&i.has(r)}))})()&&(i.listeners=!0),this.#W({...i,...t})}#B(){const t=this.#l.getQueryCache().build(this.#l,this.options);if(t===this.#T)return;const e=this.#T;this.#T=t,this.#E=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#z()}#W(t){pr.batch((()=>{t.listeners&&this.listeners.forEach((t=>{t(this.#A)})),this.#l.getQueryCache().notify({query:this.#T,type:"observerResultsUpdated"})}))}};function Tr(t,e){return function(t,e){return!1!==Ze(e.enabled,t)&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)}(t,e)||void 0!==t.state.data&&Er(t,e,e.refetchOnMount)}function Er(t,e,r){if(!1!==Ze(e.enabled,t)){const i="function"==typeof r?r(t):r;return"always"===i||!1!==i&&Pr(t,e)}return!1}function Ar(t,e,r,i){return(t!==e||!1===Ze(i.enabled,t))&&(!r.suspense||"error"!==t.state.status)&&Pr(t,r)}function Pr(t,e){return!1!==Ze(e.enabled,t)&&t.isStaleByTime(Be(e.staleTime,t))}var $r={};Object.defineProperty($r,"l",{value:!0}),$r.parse=function(t,e){const r=new Fr,i=t.length;if(2>i)return r;const n=e?.decode||zr;let s=0;do{const e=t.indexOf("=",s);if(-1===e)break;const o=t.indexOf(";",s),a=-1===o?i:o;if(e>a){s=t.lastIndexOf(";",e-1)+1;continue}const l=Mr(t,s,e),c=Ur(t,e,l),u=t.slice(l,c);if(void 0===r[u]){let i=Mr(t,e+1,a),s=Ur(t,a,i);const o=n(t.slice(i,s));r[u]=o}s=a+1}while(i>s);return r},$r.serialize=function(t,e,r){const i=r?.encode||encodeURIComponent;if(!Ir.test(t))throw new TypeError("argument name is invalid: "+t);const n=i(e);if(!Rr.test(n))throw new TypeError("argument val is invalid: "+e);let s=t+"="+n;if(!r)return s;if(void 0!==r.maxAge){if(!Number.isInteger(r.maxAge))throw new TypeError("option maxAge is invalid: "+r.maxAge);s+="; Max-Age="+r.maxAge}if(r.domain){if(!Nr.test(r.domain))throw new TypeError("option domain is invalid: "+r.domain);s+="; Domain="+r.domain}if(r.path){if(!Cr.test(r.path))throw new TypeError("option path is invalid: "+r.path);s+="; Path="+r.path}if(r.expires){if(!function(t){return"[object Date]"===Dr.call(t)}(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError("option expires is invalid: "+r.expires);s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.partitioned&&(s+="; Partitioned"),r.priority)switch("string"==typeof r.priority?r.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError("option priority is invalid: "+r.priority)}if(r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid: "+r.sameSite)}return s};const Ir=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Rr=/^[\u0021-\u003A\u003C-\u007E]*$/,Nr=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Cr=/^[\u0020-\u003A\u003D-\u007E]*$/,Dr={}.toString,Fr=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function Mr(t,e,r){do{const r=t.charCodeAt(e);if(32!==r&&9!==r)return e}while(++e<r);return r}function Ur(t,e,r){for(;e>r;){const r=t.charCodeAt(--e);if(32!==r&&9!==r)return e+1}return r}function zr(t){if(-1===t.indexOf("%"))return t;try{return decodeURIComponent(t)}catch(e){return t}}var Lr=function(){return Lr=Object.assign||function(t){for(var e,r=1,i=arguments.length;i>r;r++)for(var n in e=arguments[r])({}).hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Lr.apply(this,arguments)};function qr(t,e){var r={};for(var i in t)({}).hasOwnProperty.call(t,i)&&0>e.indexOf(i)&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)0>e.indexOf(i[n])&&{}.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]])}return r}function Br(t,e,r){if(r||2===arguments.length)for(var i,n=0,s=e.length;s>n;n++)!i&&n in e||(i||(i=[].slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||[].slice.call(e))}function Zr(t,e){return"function"==typeof t?t(e):t&&(t.current=e),t}"function"==typeof SuppressedError&&SuppressedError;var Jr="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,Gr=new WeakMap;function Wr(e,r){var i,n,s=(i=function(t){return e.forEach((function(e){return Zr(e,t)}))},(n=t.useState((function(){return{value:null,callback:i,facade:{get current(){return n.value},set current(t){var e=n.value;e!==t&&(n.value=t,n.callback(t,e))}}}}))[0]).callback=i,n.facade);return Jr((function(){var t=Gr.get(s);if(t){var r=new Set(t),i=new Set(e),n=s.current;r.forEach((function(t){i.has(t)||Zr(t,null)})),i.forEach((function(t){r.has(t)||Zr(t,n)}))}Gr.set(s,e)}),[e]),s}function Kr(t){return t}function Vr(t){void 0===t&&(t={});var e=function(t,e){void 0===e&&(e=Kr);var r=[],i=!1;return{read:function(){if(i)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:null},useMedium:function(t){var n=e(t,i);return r.push(n),function(){r=r.filter((function(t){return t!==n}))}},assignSyncMedium:function(t){for(i=!0;r.length;){var e=r;r=[],e.forEach(t)}r={push:function(e){return t(e)},filter:function(){return r}}},assignMedium:function(t){i=!0;var e=[];if(r.length){var n=r;r=[],n.forEach(t),e=r}var s=function(){var r=e;e=[],r.forEach(t)},o=function(){return Promise.resolve().then(s)};o(),r={push:function(t){e.push(t),o()},filter:function(t){return e=e.filter(t),r}}}}}();return e.options=Lr({async:!0,ssr:!1},t),e}var Hr=function(e){var r=e.sideCar,i=qr(e,["sideCar"]);if(!r)throw Error("Sidecar: please provide `sideCar` property to import the right car");var n=r.read();if(!n)throw Error("Sidecar medium not found");return t.createElement(n,Lr({},i))};function Qr(t,e){return t.useMedium(e),Hr}Hr.isSideCarExport=!0;var Yr=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__},Xr=new WeakMap,ti=new WeakMap,ei={},ri=0,ii=function(t){return t&&(t.host||ii(t.parentNode))},ni=function(t,e,r){void 0===r&&(r="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),n=function(t){return"undefined"==typeof document?null:(Array.isArray(t)?t[0]:t).ownerDocument.body}(t);return n?(i.push.apply(i,Array.from(n.querySelectorAll("[aria-live]"))),function(t,e,r,i){var n=function(t,e){return e.map((function(e){if(t.contains(e))return e;var r=ii(e);return r&&t.contains(r)?r:null})).filter((function(t){return!!t}))}(e,Array.isArray(t)?t:[t]);ei[r]||(ei[r]=new WeakMap);var s=ei[r],o=[],a=new Set,l=new Set(n),c=function(t){t&&!a.has(t)&&(a.add(t),c(t.parentNode))};n.forEach(c);var u=function(t){t&&!l.has(t)&&[].forEach.call(t.children,(function(t){if(a.has(t))u(t);else try{var e=t.getAttribute(i),n=null!==e&&"false"!==e,l=(Xr.get(t)||0)+1,c=(s.get(t)||0)+1;Xr.set(t,l),s.set(t,c),o.push(t),1===l&&n&&ti.set(t,!0),1===c&&t.setAttribute(r,"true"),n||t.setAttribute(i,"true")}catch(h){}}))};return u(e),a.clear(),ri++,function(){o.forEach((function(t){var e=Xr.get(t)-1,n=s.get(t)-1;Xr.set(t,e),s.set(t,n),e||(ti.has(t)||t.removeAttribute(i),ti.delete(t)),n||t.removeAttribute(r)})),--ri||(Xr=new WeakMap,Xr=new WeakMap,ti=new WeakMap,ei={})}}(i,n,r,"aria-hidden")):function(){return null}};const si={},oi=function(t,e,r){let i=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),r=t?.nonce||t?.getAttribute("nonce");i=Promise.allSettled(e.map((t=>{if((t=function(t){return"/"+t}(t))in si)return;si[t]=!0;const e=t.endsWith(".css"),i=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${i}`))return;const n=document.createElement("link");return n.rel=e?"stylesheet":"modulepreload",e||(n.as="script"),n.crossOrigin="",n.href=t,r&&n.setAttribute("nonce",r),document.head.appendChild(n),e?new Promise(((e,r)=>{n.addEventListener("load",e),n.addEventListener("error",(()=>r(Error("Unable to preload CSS for "+t))))})):void 0})))}function n(t){const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=t,window.dispatchEvent(e),!e.defaultPrevented)throw t}return i.then((e=>{for(const t of e||[])"rejected"===t.status&&n(t.reason);return t().catch(n)}))};class ai extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}}class li extends ai{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ci extends ai{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ui extends ai{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hi;!function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"}(hi||(hi={}));class di{constructor(t,{headers:e={},customFetch:r,region:i=hi.Any}={}){this.url=t,this.headers=e,this.region=i,this.fetch=(t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>oi((async()=>{const{default:t}=await Promise.resolve().then((()=>ji));return{default:t}}),void 0).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)})(r)}setAuth(t){this.headers.Authorization="Bearer "+t}invoke(t,e={}){var r,i,n,s;return i=this,s=function*(){try{const{headers:i,method:n,body:s}=e;let o,a={},{region:l}=e;l||(l=this.region),l&&"any"!==l&&(a["x-region"]=l),s&&(i&&!{}.hasOwnProperty.call(i,"Content-Type")||!i)&&("undefined"!=typeof Blob&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",o=s):"string"==typeof s?(a["Content-Type"]="text/plain",o=s):"undefined"!=typeof FormData&&s instanceof FormData?o=s:(a["Content-Type"]="application/json",o=JSON.stringify(s)));const c=yield this.fetch(`${this.url}/${t}`,{method:n||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:o}).catch((t=>{throw new li(t)})),u=c.headers.get("x-relay-error");if(u&&"true"===u)throw new ci(c);if(!c.ok)throw new ui(c);let h,d=(null!==(r=c.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return h="application/json"===d?yield c.json():"application/octet-stream"===d?yield c.blob():"text/event-stream"===d?c:"multipart/form-data"===d?yield c.formData():yield c.text(),{data:h,error:null}}catch(i){return{data:null,error:i}}},new((n=void 0)||(n=Promise))((function(t,e){function r(t){try{a(s.next(t))}catch(r){e(r)}}function o(t){try{a(s.throw(t))}catch(r){e(r)}}function a(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n((function(t){t(i)}))).then(r,o)}a((s=s.call(i)).next())}))}}var fi={},pi={},vi={},mi={},yi={},wi={},bi=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}();const gi=bi.fetch,xi=bi.fetch.bind(bi),_i=bi.Headers,ki=bi.Request,Oi=bi.Response,ji=Object.freeze(Object.defineProperty({__proto__:null,Headers:_i,Request:ki,Response:Oi,default:xi,fetch:gi},Symbol.toStringTag,{value:"Module"})),Si=e(ji);var Ti={};Object.defineProperty(Ti,"l",{value:!0}),Ti.default=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};var Ei=r&&r.u||function(t){return t&&t.l?t:{default:t}};Object.defineProperty(wi,"l",{value:!0});const Ai=Ei(Si),Pi=Ei(Ti);wi.default=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:"undefined"==typeof fetch?this.fetch=Ai.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Object.assign({},this.headers),this.headers[t]=e,this}then(t,e){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async t=>{var e,r,i;let n=null,s=null,o=null,a=t.status,l=t.statusText;if(t.ok){if("HEAD"!==this.method){const e=await t.text();""===e||(s="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?e:JSON.parse(e))}const i=null===(e=this.headers.Prefer)||void 0===e?void 0:e.match(/count=(exact|planned|estimated)/),c=null===(r=t.headers.get("content-range"))||void 0===r?void 0:r.split("/");i&&c&&c.length>1&&(o=parseInt(c[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(n={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,o=null,a=406,l="Not Acceptable"):s=1===s.length?s[0]:null)}else{const e=await t.text();try{n=JSON.parse(e),Array.isArray(n)&&404===t.status&&(s=[],n=null,a=200,l="OK")}catch(c){404===t.status&&""===e?(a=204,l="No Content"):n={message:e}}if(n&&this.isMaybeSingle&&(null===(i=null==n?void 0:n.details)||void 0===i?void 0:i.includes("0 rows"))&&(n=null,a=200,l="OK"),n&&this.shouldThrowOnError)throw new Pi.default(n)}return{error:n,data:s,count:o,status:a,statusText:l}}));return this.shouldThrowOnError||(r=r.catch((t=>{var e,r,i;return{error:{message:`${null!==(e=null==t?void 0:t.name)&&void 0!==e?e:"FetchError"}: ${null==t?void 0:t.message}`,details:""+(null!==(r=null==t?void 0:t.stack)&&void 0!==r?r:""),hint:"",code:""+(null!==(i=null==t?void 0:t.code)&&void 0!==i?i:"")},data:null,count:null,status:0,statusText:""}}))),r.then(t,e)}returns(){return this}overrideTypes(){return this}};var $i=r&&r.u||function(t){return t&&t.l?t:{default:t}};Object.defineProperty(yi,"l",{value:!0});const Ii=$i(wi);let Ri=class extends Ii.default{select(t){let e=!1;const r=(null!=t?t:"*").split("").map((t=>/\s/.test(t)&&!e?"":('"'===t&&(e=!e),t))).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:i,referencedTable:n=i}={}){const s=n?n+".order":"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?o+",":""}${t}.${e?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const i=void 0===r?"limit":r+".limit";return this.url.searchParams.set(i,""+t),this}range(t,e,{foreignTable:r,referencedTable:i=r}={}){const n=void 0===i?"offset":i+".offset",s=void 0===i?"limit":i+".limit";return this.url.searchParams.set(n,""+t),this.url.searchParams.set(s,""+(e-t+1)),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:i=!1,wal:n=!1,format:s="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,r?"settings":null,i?"buffers":null,n?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.Accept)&&void 0!==o?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${a};`,this}rollback(){var t;return(null!==(t=this.headers.Prefer)&&void 0!==t?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};yi.default=Ri;var Ni=r&&r.u||function(t){return t&&t.l?t:{default:t}};Object.defineProperty(mi,"l",{value:!0});const Ci=Ni(yi);let Di=class extends Ci.default{eq(t,e){return this.url.searchParams.append(t,"eq."+e),this}neq(t,e){return this.url.searchParams.append(t,"neq."+e),this}gt(t,e){return this.url.searchParams.append(t,"gt."+e),this}gte(t,e){return this.url.searchParams.append(t,"gte."+e),this}lt(t,e){return this.url.searchParams.append(t,"lt."+e),this}lte(t,e){return this.url.searchParams.append(t,"lte."+e),this}like(t,e){return this.url.searchParams.append(t,"like."+e),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,"ilike."+e),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,"is."+e),this}in(t,e){const r=Array.from(new Set(e)).map((t=>"string"==typeof t&&RegExp("[,()]").test(t)?`"${t}"`:""+t)).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return"string"==typeof e?this.url.searchParams.append(t,"cs."+e):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,"cs."+JSON.stringify(e)),this}containedBy(t,e){return"string"==typeof e?this.url.searchParams.append(t,"cd."+e):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,"cd."+JSON.stringify(e)),this}rangeGt(t,e){return this.url.searchParams.append(t,"sr."+e),this}rangeGte(t,e){return this.url.searchParams.append(t,"nxl."+e),this}rangeLt(t,e){return this.url.searchParams.append(t,"sl."+e),this}rangeLte(t,e){return this.url.searchParams.append(t,"nxr."+e),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,"adj."+e),this}overlaps(t,e){return"string"==typeof e?this.url.searchParams.append(t,"ov."+e):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:i}={}){let n="";"plain"===i?n="pl":"phrase"===i?n="ph":"websearch"===i&&(n="w");const s=void 0===r?"":`(${r})`;return this.url.searchParams.append(t,`${n}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach((([t,e])=>{this.url.searchParams.append(t,"eq."+e)})),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const i=r?r+".or":"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}};mi.default=Di;var Fi=r&&r.u||function(t){return t&&t.l?t:{default:t}};Object.defineProperty(vi,"l",{value:!0});const Mi=Fi(mi);vi.default=class{constructor(t,{headers:e={},schema:r,fetch:i}){this.url=t,this.headers=e,this.schema=r,this.fetch=i}select(t,{head:e=!1,count:r}={}){const i=e?"HEAD":"GET";let n=!1;const s=(null!=t?t:"*").split("").map((t=>/\s/.test(t)&&!n?"":('"'===t&&(n=!n),t))).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer="count="+r),new Mi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:r=!0}={}){const i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push("count="+e),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const e=t.reduce(((t,e)=>t.concat(Object.keys(e))),[]);if(e.length>0){const t=[...new Set(e)].map((t=>`"${t}"`));this.url.searchParams.set("columns",t.join(","))}}return new Mi.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:i,defaultToNull:n=!0}={}){const s=[`resolution=${r?"ignore":"merge"}-duplicates`];if(void 0!==e&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&s.push(this.headers.Prefer),i&&s.push("count="+i),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const e=t.reduce(((t,e)=>t.concat(Object.keys(e))),[]);if(e.length>0){const t=[...new Set(e)].map((t=>`"${t}"`));this.url.searchParams.set("columns",t.join(","))}}return new Mi.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){const r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),e&&r.push("count="+e),this.headers.Prefer=r.join(","),new Mi.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const e=[];return t&&e.push("count="+t),this.headers.Prefer&&e.unshift(this.headers.Prefer),this.headers.Prefer=e.join(","),new Mi.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};var Ui={},zi={};Object.defineProperty(zi,"l",{value:!0}),zi.version=void 0,zi.version="0.0.0-automated",Object.defineProperty(Ui,"l",{value:!0}),Ui.DEFAULT_HEADERS=void 0;const Li=zi;Ui.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/"+Li.version};var qi=r&&r.u||function(t){return t&&t.l?t:{default:t}};Object.defineProperty(pi,"l",{value:!0});const Bi=qi(vi),Zi=qi(mi),Ji=Ui;pi.default=class t{constructor(t,{headers:e={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},Ji.DEFAULT_HEADERS),e),this.schemaName=r,this.fetch=i}from(t){const e=new URL(`${this.url}/${t}`);return new Bi.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(t,e={},{head:r=!1,get:i=!1,count:n}={}){let s;const o=new URL(`${this.url}/rpc/${t}`);let a;r||i?(s=r?"HEAD":"GET",Object.entries(e).filter((([t,e])=>void 0!==e)).map((([t,e])=>[t,Array.isArray(e)?`{${e.join(",")}}`:""+e])).forEach((([t,e])=>{o.searchParams.append(t,e)}))):(s="POST",a=e);const l=Object.assign({},this.headers);return n&&(l.Prefer="count="+n),new Zi.default({method:s,url:o,headers:l,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};var Gi=r&&r.u||function(t){return t&&t.l?t:{default:t}};Object.defineProperty(fi,"l",{value:!0}),fi.PostgrestError=fi.PostgrestBuilder=fi.PostgrestTransformBuilder=fi.PostgrestFilterBuilder=fi.PostgrestQueryBuilder=fi.PostgrestClient=void 0;const Wi=Gi(pi);fi.PostgrestClient=Wi.default;const Ki=Gi(vi);fi.PostgrestQueryBuilder=Ki.default;const Vi=Gi(mi);fi.PostgrestFilterBuilder=Vi.default;const Hi=Gi(yi);fi.PostgrestTransformBuilder=Hi.default;const Qi=Gi(wi);fi.PostgrestBuilder=Qi.default;const Yi=Gi(Ti);fi.PostgrestError=Yi.default;var Xi=fi.default={PostgrestClient:Wi.default,PostgrestQueryBuilder:Ki.default,PostgrestFilterBuilder:Vi.default,PostgrestTransformBuilder:Hi.default,PostgrestBuilder:Qi.default,PostgrestError:Yi.default};const{PostgrestClient:tn,PostgrestQueryBuilder:en,PostgrestFilterBuilder:rn,PostgrestTransformBuilder:nn,PostgrestBuilder:sn,PostgrestError:on}=Xi,an={"X-Client-Info":"realtime-js/2.11.2"};var ln,cn,un,hn,dn,fn;!function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"}(ln||(ln={})),function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"}(cn||(cn={})),function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"}(un||(un={})),function(t){t.websocket="websocket"}(hn||(hn={})),function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"}(dn||(dn={}));class pn{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this.v(t)):e("string"==typeof t?JSON.parse(t):{})}v(t){const e=new DataView(t),r=new TextDecoder;return this._(t,e,r)}_(t,e,r){const i=e.getUint8(1),n=e.getUint8(2);let s=this.HEADER_LENGTH+2;const o=r.decode(t.slice(s,s+i));s+=i;const a=r.decode(t.slice(s,s+n));return s+=n,{ref:null,topic:o,event:a,payload:JSON.parse(r.decode(t.slice(s,t.byteLength)))}}}class vn{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}!function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"}(fn||(fn={}));const mn=(t,e,r={})=>{var i;const n=null!==(i=r.skipTypes)&&void 0!==i?i:[];return Object.keys(e).reduce(((r,i)=>(r[i]=yn(i,t,e,n),r)),{})},yn=(t,e,r,i)=>{const n=e.find((e=>e.name===t)),s=null==n?void 0:n.type,o=r[t];return s&&!i.includes(s)?wn(s,o):bn(o)},wn=(t,e)=>{if("_"===t.charAt(0)){const r=t.slice(1,t.length);return kn(e,r)}switch(t){case fn.bool:return gn(e);case fn.float4:case fn.float8:case fn.int2:case fn.int4:case fn.int8:case fn.numeric:case fn.oid:return xn(e);case fn.json:case fn.jsonb:return _n(e);case fn.timestamp:return On(e);case fn.abstime:case fn.date:case fn.daterange:case fn.int4range:case fn.int8range:case fn.money:case fn.reltime:case fn.text:case fn.time:case fn.timestamptz:case fn.timetz:case fn.tsrange:case fn.tstzrange:default:return bn(e)}},bn=t=>t,gn=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},xn=t=>{if("string"==typeof t){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},_n=t=>{if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t}return t},kn=(t,e)=>{if("string"!=typeof t)return t;const r=t.length-1,i=t[r];if("{"===t[0]&&"}"===i){let i;const s=t.slice(1,r);try{i=JSON.parse("["+s+"]")}catch(n){i=s?s.split(","):[]}return i.map((t=>wn(e,t)))}return t},On=t=>"string"==typeof t?t.replace(" ","T"):t,jn=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Sn{constructor(t,e,r={},i=1e4){this.channel=t,this.event=e,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this.k(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this.O("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel.j()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this.O(t)&&e(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket.S(),this.refEvent=this.channel.T(this.ref),this.channel.A(this.refEvent,{},(t=>{this.k(),this.P(),this.receivedResp=t,this.I(t)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout))}trigger(t,e){this.refEvent&&this.channel.R(this.refEvent,{status:t,response:e})}destroy(){this.k(),this.P()}k(){this.refEvent&&this.channel.N(this.refEvent,{})}P(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}I({status:t,response:e}){this.recHooks.filter((e=>e.status===t)).forEach((t=>t.callback(e)))}O(t){return this.receivedResp&&this.receivedResp.status===t}}var Tn,En,An,Pn;!function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"}(Tn||(Tn={}));class $n{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==e?void 0:e.events)||{state:"presence_state",diff:"presence_diff"};this.channel.A(r.state,{},(t=>{const{onJoin:e,onLeave:r,onSync:i}=this.caller;this.joinRef=this.channel.j(),this.state=$n.syncState(this.state,t,e,r),this.pendingDiffs.forEach((t=>{this.state=$n.syncDiff(this.state,t,e,r)})),this.pendingDiffs=[],i()})),this.channel.A(r.diff,{},(t=>{const{onJoin:e,onLeave:r,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(t):(this.state=$n.syncDiff(this.state,t,e,r),i())})),this.onJoin(((t,e,r)=>{this.channel.R("presence",{event:"join",key:t,currentPresences:e,newPresences:r})})),this.onLeave(((t,e,r)=>{this.channel.R("presence",{event:"leave",key:t,currentPresences:e,leftPresences:r})})),this.onSync((()=>{this.channel.R("presence",{event:"sync"})}))}static syncState(t,e,r,i){const n=this.cloneDeep(t),s=this.transformState(e),o={},a={};return this.map(n,((t,e)=>{s[t]||(a[t]=e)})),this.map(s,((t,e)=>{const r=n[t];if(r){const i=e.map((t=>t.presence_ref)),n=r.map((t=>t.presence_ref)),s=e.filter((t=>0>n.indexOf(t.presence_ref))),l=r.filter((t=>0>i.indexOf(t.presence_ref)));s.length>0&&(o[t]=s),l.length>0&&(a[t]=l)}else o[t]=e})),this.syncDiff(n,{joins:o,leaves:a},r,i)}static syncDiff(t,e,r,i){const{joins:n,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(n,((e,i)=>{var n;const s=null!==(n=t[e])&&void 0!==n?n:[];if(t[e]=this.cloneDeep(i),s.length>0){const r=t[e].map((t=>t.presence_ref)),i=s.filter((t=>0>r.indexOf(t.presence_ref)));t[e].unshift(...i)}r(e,s,i)})),this.map(s,((e,r)=>{let n=t[e];if(!n)return;const s=r.map((t=>t.presence_ref));n=n.filter((t=>0>s.indexOf(t.presence_ref))),t[e]=n,i(e,n,r),0===n.length&&delete t[e]})),t}static map(t,e){return Object.getOwnPropertyNames(t).map((r=>e(r,t[r])))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce(((e,r)=>{const i=t[r];return e[r]="metas"in i?i.metas.map((t=>(t.presence_ref=t.phx_ref,delete t.phx_ref,delete t.phx_ref_prev,t))):i,e}),{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel.j()}}!function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"}(En||(En={})),function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"}(An||(An={})),function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"}(Pn||(Pn={}));class In{constructor(t,e={config:{}},r){this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=cn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new Sn(this,un.join,this.params,this.timeout),this.rejoinTimer=new vn((()=>this.C()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=cn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((t=>t.send())),this.pushBuffer=[]})),this.D((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.j()}`),this.state=cn.closed,this.socket.F(this)})),this.M((t=>{this.U()||this.L()||(this.socket.log("channel","error "+this.topic,t),this.state=cn.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this.q()&&(this.socket.log("channel","timeout "+this.topic,this.joinPush.timeout),this.state=cn.errored,this.rejoinTimer.scheduleTimeout())})),this.A(un.reply,{},((t,e)=>{this.R(this.T(e),t)})),this.presence=new $n(this),this.broadcastEndpointURL=jn(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:n,presence:s,private:o}}=this.params;this.M((e=>null==t?void 0:t(Pn.CHANNEL_ERROR,e))),this.D((()=>null==t?void 0:t(Pn.CLOSED)));const a={},l={broadcast:n,presence:s,postgres_changes:null!==(i=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map((t=>t.filter)))&&void 0!==i?i:[],private:o};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this.B(e),this.joinPush.receive("ok",(async({postgres_changes:e})=>{var r;if(this.socket.setAuth(),void 0!==e){const i=this.bindings.postgres_changes,n=null!==(r=null==i?void 0:i.length)&&void 0!==r?r:0,s=[];for(let r=0;n>r;r++){const n=i[r],{filter:{event:o,schema:a,table:l,filter:c}}=n,u=e&&e[r];if(!u||u.event!==o||u.schema!==a||u.table!==l||u.filter!==c)return this.unsubscribe(),void(null==t||t(Pn.CHANNEL_ERROR,Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},n),{id:u.id}))}return this.bindings.postgres_changes=s,void(t&&t(Pn.SUBSCRIBED))}null==t||t(Pn.SUBSCRIBED)})).receive("error",(e=>{null==t||t(Pn.CHANNEL_ERROR,Error(JSON.stringify(Object.values(e).join(", ")||"error")))})).receive("timeout",(()=>{null==t||t(Pn.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,r){return this.A(t,e,r)}async send(t,e={}){var r,i;if(this.Z()||"broadcast"!==t.type)return new Promise((r=>{var i,n,s;const o=this.J(t.type,t,e.timeout||this.timeout);"broadcast"!==t.type||(null===(s=null===(n=null===(i=this.params)||void 0===i?void 0:i.config)||void 0===n?void 0:n.broadcast)||void 0===s?void 0:s.ack)||r("ok"),o.receive("ok",(()=>r("ok"))),o.receive("error",(()=>r("error"))),o.receive("timeout",(()=>r("timed out")))}));{const{event:s,payload:o}=t,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer "+this.socket.accessTokenValue:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const t=await this.G(this.broadcastEndpointURL,a,null!==(r=e.timeout)&&void 0!==r?r:this.timeout);return await(null===(i=t.body)||void 0===i?void 0:i.cancel()),t.ok?"ok":"error"}catch(n){return"AbortError"===n.name?"timed out":"error"}}}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=cn.leaving;const e=()=>{this.socket.log("channel","leave "+this.topic),this.R(un.close,"leave",this.j())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((r=>{const i=new Sn(this,un.leave,{},t);i.receive("ok",(()=>{e(),r("ok")})).receive("timeout",(()=>{e(),r("timed out")})).receive("error",(()=>{r("error")})),i.send(),this.Z()||i.trigger("ok",{})}))}async G(t,e,r){const i=new AbortController,n=setTimeout((()=>i.abort()),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(n),s}J(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Sn(this,t,e,r);return this.Z()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}W(t,e,r){return e}K(t){return this.topic===t}j(){return this.joinPush.ref}R(t,e,r){var i,n;const s=t.toLocaleLowerCase(),{close:o,error:a,leave:l,join:c}=un;if(r&&[o,a,l,c].indexOf(s)>=0&&r!==this.j())return;let u=this.W(s,e,r);if(e&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(i=this.bindings.postgres_changes)||void 0===i||i.filter((t=>{var e,r,i;return"*"===(null===(e=t.filter)||void 0===e?void 0:e.event)||(null===(i=null===(r=t.filter)||void 0===r?void 0:r.event)||void 0===i?void 0:i.toLocaleLowerCase())===s})).map((t=>t.callback(u,r))):null===(n=this.bindings[s])||void 0===n||n.filter((t=>{var r,i,n,o,a,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in t){const s=t.id,o=null===(r=t.filter)||void 0===r?void 0:r.event;return s&&(null===(i=e.ids)||void 0===i?void 0:i.includes(s))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null===(n=e.data)||void 0===n?void 0:n.type.toLocaleLowerCase()))}{const r=null===(a=null===(o=null==t?void 0:t.filter)||void 0===o?void 0:o.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===r||r===(null===(l=null==e?void 0:e.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return t.type.toLocaleLowerCase()===s})).map((t=>{if("object"==typeof u&&"ids"in u){const t=u.data,{schema:e,table:r,commit_timestamp:i,type:n,errors:s}=t;u=Object.assign(Object.assign({},{schema:e,table:r,commit_timestamp:i,eventType:n,new:{},old:{},errors:s}),this.V(t))}t.callback(u,r)}))}L(){return this.state===cn.closed}H(){return this.state===cn.joined}q(){return this.state===cn.joining}U(){return this.state===cn.leaving}T(t){return"chan_reply_"+t}A(t,e,r){const i=t.toLocaleLowerCase(),n={type:i,filter:e,callback:r};return this.bindings[i]?this.bindings[i].push(n):this.bindings[i]=[n],this}N(t,e){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter((t=>{var i;return!((null===(i=t.type)||void 0===i?void 0:i.toLocaleLowerCase())===r&&In.isEqual(t.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}C(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.B()}D(t){this.A(un.close,{},t)}M(t){this.A(un.error,{},(e=>t(e)))}Z(){return this.socket.isConnected()&&this.H()}B(t=this.timeout){this.U()||(this.socket.Y(this.topic),this.state=cn.joining,this.joinPush.resend(t))}V(t){const e={new:{},old:{}};return"INSERT"!==t.type&&"UPDATE"!==t.type||(e.new=mn(t.columns,t.record)),"UPDATE"!==t.type&&"DELETE"!==t.type||(e.old=mn(t.columns,t.old_record)),e}}const Rn=()=>{},Nn="undefined"!=typeof WebSocket;class Cn{constructor(t,e){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=an,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Rn,this.conn=null,this.sendBuffer=[],this.serializer=new pn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this.X=t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>oi((async()=>{const{default:t}=await Promise.resolve().then((()=>ji));return{default:t}}),void 0).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)},this.endPoint=`${t}/${hn.websocket}`,this.httpEndpoint=jn(t),(null==e?void 0:e.transport)?this.transport=e.transport:this.transport=null,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),(null==e?void 0:e.timeout)&&(this.timeout=e.timeout),(null==e?void 0:e.logger)&&(this.logger=e.logger),(null==e?void 0:e.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);const i=null===(r=null==e?void 0:e.params)||void 0===r?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=(null==e?void 0:e.reconnectAfterMs)?e.reconnectAfterMs:t=>[1e3,2e3,5e3,1e4][t-1]||1e4,this.encode=(null==e?void 0:e.encode)?e.encode:(t,e)=>e(JSON.stringify(t)),this.decode=(null==e?void 0:e.decode)?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new vn((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this.X(null==e?void 0:e.fetch),null==e?void 0:e.worker){if("undefined"!=typeof window&&!window.Worker)throw Error("Web Worker is not supported");this.worker=(null==e?void 0:e.worker)||!1,this.workerUrl=null==e?void 0:e.workerUrl}this.accessToken=(null==e?void 0:e.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if(Nn)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new Dn(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),oi((async()=>{const{default:t}=await Promise.resolve().then((()=>Ha));return{default:t}}),void 0).then((({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this.tt(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,null!=e?e:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return 0===this.channels.length&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map((t=>t.unsubscribe())));return this.disconnect(),t}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ln.connecting:return dn.Connecting;case ln.open:return dn.Open;case ln.closing:return dn.Closing;default:return dn.Closed}}isConnected(){return this.connectionState()===dn.Open}channel(t,e={config:{}}){const r=new In("realtime:"+t,e,this);return this.channels.push(r),r}push(t){const{topic:e,event:r,payload:i,ref:n}=t,s=()=>{this.encode(t,(t=>{var e;null===(e=this.conn)||void 0===e||e.send(t)}))};this.log("push",`${e} ${r} (${n})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let e=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let t=null;try{t=JSON.parse(atob(e.split(".")[1]))}catch(r){}if(t&&t.exp&&Math.floor(Date.now()/1e3)-t.exp>=0)return this.log("auth",'InvalidJWTToken: Invalid value for JWT claim "exp" with value '+t.exp),Promise.reject('InvalidJWTToken: Invalid value for JWT claim "exp" with value '+t.exp);this.accessTokenValue=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t.H()&&t.J(un.access_token,{access_token:e})}))}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(t=this.conn)||void 0===t||t.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this.S(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((t=>t())),this.sendBuffer=[])}S(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}Y(t){let e=this.channels.find((e=>e.topic===t&&(e.H()||e.q())));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}F(t){this.channels=this.channels.filter((e=>e.j()!==t.j()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this.et(),this.conn.onerror=t=>this.rt(t),this.conn.onmessage=t=>this.it(t),this.conn.onclose=t=>this.nt(t))}it(t){this.decode(t.data,(t=>{let{topic:e,event:r,payload:i,ref:n}=t;n&&n===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${e} ${r} ${n&&"("+n+")"||""}`,i),this.channels.filter((t=>t.K(e))).forEach((t=>t.R(r,i,n))),this.stateChangeCallbacks.message.forEach((e=>e(t)))}))}async et(){if(this.log("transport","connected to "+this.endpointURL()),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker","starting worker for from "+this.workerUrl):this.log("worker","starting default worker");const t=this.st(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{"keepAlive"===t.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((t=>t()))}nt(t){this.log("transport","close",t),this.ot(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((e=>e(t)))}rt(t){this.log("transport",t.message),this.ot(),this.stateChangeCallbacks.error.forEach((e=>e(t)))}ot(){this.channels.forEach((t=>t.R(un.error)))}tt(t,e){if(0===Object.keys(e).length)return t;const r=t.match(/\?/)?"&":"?";return`${t}${r}${new URLSearchParams(e)}`}st(t){let e;if(t)e=t;else{const t=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});e=URL.createObjectURL(t)}return e}}class Dn{constructor(t,e,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ln.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Fn extends Error{constructor(t){super(t),this.ct=!0,this.name="StorageError"}}function Mn(t){return"object"==typeof t&&null!==t&&"ct"in t}class Un extends Fn{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class zn extends Fn{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}const Ln=t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>oi((async()=>{const{default:t}=await Promise.resolve().then((()=>ji));return{default:t}}),void 0).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)},qn=t=>{if(Array.isArray(t))return t.map((t=>qn(t)));if("function"==typeof t||t!==Object(t))return t;const e={};return Object.entries(t).forEach((([t,r])=>{const i=t.replace(/([-_][a-z])/gi,(t=>t.toUpperCase().replace(/[-_]/g,"")));e[i]=qn(r)})),e};var Bn=function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{l(i.next(t))}catch(e){s(e)}}function a(t){try{l(i.throw(t))}catch(e){s(e)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};const Zn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t);function Jn(t,e,r,i,n,s){return Bn(this,void 0,void 0,(function*(){return new Promise(((o,a)=>{t(r,((t,e,r,i)=>{const n={method:t,headers:(null==e?void 0:e.headers)||{}};return"GET"===t?n:(n.headers=Object.assign({"Content-Type":"application/json"},null==e?void 0:e.headers),i&&(n.body=JSON.stringify(i)),Object.assign(Object.assign({},n),r))})(e,i,n,s)).then((t=>{if(!t.ok)throw t;return(null==i?void 0:i.noResolveJson)?t:t.json()})).then((t=>o(t))).catch((t=>((t,e,r)=>Bn(void 0,void 0,void 0,(function*(){const i=yield(n=void 0,s=function*(){return"undefined"==typeof Response?(yield oi((()=>Promise.resolve().then((()=>ji))),void 0)).Response:Response},new(n||(n=Promise))((function(t,e){function r(t){try{o(s.next(t))}catch(r){e(r)}}function i(t){try{o(s.throw(t))}catch(r){e(r)}}function o(e){var s;e.done?t(e.value):(s=e.value,s instanceof n?s:new n((function(t){t(s)}))).then(r,i)}o((s=s.call(void 0)).next())})));var n,s;t instanceof i&&!(null==r?void 0:r.noResolveJson)?t.json().then((r=>{e(new Un(Zn(r),t.status||500))})).catch((t=>{e(new zn(Zn(t),t))})):e(new zn(Zn(t),t))})))(t,a,i)))}))}))}function Gn(t,e,r,i){return Bn(this,void 0,void 0,(function*(){return Jn(t,"GET",e,r,i)}))}function Wn(t,e,r,i,n){return Bn(this,void 0,void 0,(function*(){return Jn(t,"POST",e,i,n,r)}))}function Kn(t,e,r,i,n){return Bn(this,void 0,void 0,(function*(){return Jn(t,"DELETE",e,i,n,r)}))}var Vn=function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{l(i.next(t))}catch(e){s(e)}}function a(t){try{l(i.throw(t))}catch(e){s(e)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};const Hn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Yn{constructor(t,e={},r,i){this.url=t,this.headers=e,this.bucketId=r,this.fetch=Ln(i)}uploadOrUpdate(t,e,r,i){return Vn(this,void 0,void 0,(function*(){try{let n;const s=Object.assign(Object.assign({},Qn),i);let o=Object.assign(Object.assign({},this.headers),"POST"===t&&{"x-upsert":s.upsert+""});const a=s.metadata;"undefined"!=typeof Blob&&r instanceof Blob?(n=new FormData,n.append("cacheControl",s.cacheControl),a&&n.append("metadata",this.encodeMetadata(a)),n.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(n=r,n.append("cacheControl",s.cacheControl),a&&n.append("metadata",this.encodeMetadata(a))):(n=r,o["cache-control"]="max-age="+s.cacheControl,o["content-type"]=s.contentType,a&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),(null==i?void 0:i.headers)&&(o=Object.assign(Object.assign({},o),i.headers));const l=this.ut(e),c=this.ht(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:n,headers:o},(null==s?void 0:s.duplex)?{duplex:s.duplex}:{})),h=yield u.json();return u.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(n){if(Mn(n))return{data:null,error:n};throw n}}))}upload(t,e,r){return Vn(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",t,e,r)}))}uploadToSignedUrl(t,e,r,i){return Vn(this,void 0,void 0,(function*(){const n=this.ut(t),s=this.ht(n),o=new URL(this.url+"/object/upload/sign/"+s);o.searchParams.set("token",e);try{let t;const e=Object.assign({upsert:Qn.upsert},i),s=Object.assign(Object.assign({},this.headers),{"x-upsert":e.upsert+""});"undefined"!=typeof Blob&&r instanceof Blob?(t=new FormData,t.append("cacheControl",e.cacheControl),t.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(t=r,t.append("cacheControl",e.cacheControl)):(t=r,s["cache-control"]="max-age="+e.cacheControl,s["content-type"]=e.contentType);const a=yield this.fetch(o.toString(),{method:"PUT",body:t,headers:s}),l=yield a.json();return a.ok?{data:{path:n,fullPath:l.Key},error:null}:{data:null,error:l}}catch(a){if(Mn(a))return{data:null,error:a};throw a}}))}createSignedUploadUrl(t,e){return Vn(this,void 0,void 0,(function*(){try{let r=this.ht(t);const i=Object.assign({},this.headers);(null==e?void 0:e.upsert)&&(i["x-upsert"]="true");const n=yield Wn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+n.url),o=s.searchParams.get("token");if(!o)throw new Fn("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(r){if(Mn(r))return{data:null,error:r};throw r}}))}update(t,e,r){return Vn(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",t,e,r)}))}move(t,e,r){return Vn(this,void 0,void 0,(function*(){try{return{data:yield Wn(this.fetch,this.url+"/object/move",{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Mn(i))return{data:null,error:i};throw i}}))}copy(t,e,r){return Vn(this,void 0,void 0,(function*(){try{return{data:{path:(yield Wn(this.fetch,this.url+"/object/copy",{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Mn(i))return{data:null,error:i};throw i}}))}createSignedUrl(t,e,r){return Vn(this,void 0,void 0,(function*(){try{let i=this.ht(t),n=yield Wn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const s=(null==r?void 0:r.download)?"&download="+(!0===r.download?"":r.download):"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${s}`)},{data:n,error:null}}catch(i){if(Mn(i))return{data:null,error:i};throw i}}))}createSignedUrls(t,e,r){return Vn(this,void 0,void 0,(function*(){try{const i=yield Wn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),n=(null==r?void 0:r.download)?"&download="+(!0===r.download?"":r.download):"";return{data:i.map((t=>Object.assign(Object.assign({},t),{signedUrl:t.signedURL?encodeURI(`${this.url}${t.signedURL}${n}`):null}))),error:null}}catch(i){if(Mn(i))return{data:null,error:i};throw i}}))}download(t,e){return Vn(this,void 0,void 0,(function*(){const r=void 0!==(null==e?void 0:e.transform)?"render/image/authenticated":"object",i=this.transformOptsToQueryString((null==e?void 0:e.transform)||{}),n=i?"?"+i:"";try{const e=this.ht(t),i=yield Gn(this.fetch,`${this.url}/${r}/${e}${n}`,{headers:this.headers,noResolveJson:!0});return{data:yield i.blob(),error:null}}catch(s){if(Mn(s))return{data:null,error:s};throw s}}))}info(t){return Vn(this,void 0,void 0,(function*(){const e=this.ht(t);try{const t=yield Gn(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:qn(t),error:null}}catch(r){if(Mn(r))return{data:null,error:r};throw r}}))}exists(t){return Vn(this,void 0,void 0,(function*(){const e=this.ht(t);try{return yield function(t,e,r){return Bn(this,void 0,void 0,(function*(){return Jn(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),void 0)}))}(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Mn(r)&&r instanceof zn){const t=r.originalError;if([400,404].includes(null==t?void 0:t.status))return{data:!1,error:r}}throw r}}))}getPublicUrl(t,e){const r=this.ht(t),i=[],n=(null==e?void 0:e.download)?"download="+(!0===e.download?"":e.download):"";""!==n&&i.push(n);const s=void 0!==(null==e?void 0:e.transform)?"render/image":"object",o=this.transformOptsToQueryString((null==e?void 0:e.transform)||{});""!==o&&i.push(o);let a=i.join("&");return""!==a&&(a="?"+a),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${a}`)}}}remove(t){return Vn(this,void 0,void 0,(function*(){try{return{data:yield Kn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(Mn(e))return{data:null,error:e};throw e}}))}list(t,e,r){return Vn(this,void 0,void 0,(function*(){try{const i=Object.assign(Object.assign(Object.assign({},Hn),e),{prefix:t||""});return{data:yield Wn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Mn(i))return{data:null,error:i};throw i}}))}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return"undefined"!=typeof Buffer?Buffer.from(t).toString("base64"):btoa(t)}ht(t){return`${this.bucketId}/${t}`}ut(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push("width="+t.width),t.height&&e.push("height="+t.height),t.resize&&e.push("resize="+t.resize),t.format&&e.push("format="+t.format),t.quality&&e.push("quality="+t.quality),e.join("&")}}const Xn={"X-Client-Info":"storage-js/2.7.1"};var ts=function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function o(t){try{l(i.next(t))}catch(e){s(e)}}function a(t){try{l(i.throw(t))}catch(e){s(e)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};class es{constructor(t,e={},r){this.url=t,this.headers=Object.assign(Object.assign({},Xn),e),this.fetch=Ln(r)}listBuckets(){return ts(this,void 0,void 0,(function*(){try{return{data:yield Gn(this.fetch,this.url+"/bucket",{headers:this.headers}),error:null}}catch(t){if(Mn(t))return{data:null,error:t};throw t}}))}getBucket(t){return ts(this,void 0,void 0,(function*(){try{return{data:yield Gn(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(Mn(e))return{data:null,error:e};throw e}}))}createBucket(t,e={public:!1}){return ts(this,void 0,void 0,(function*(){try{return{data:yield Wn(this.fetch,this.url+"/bucket",{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Mn(r))return{data:null,error:r};throw r}}))}updateBucket(t,e){return ts(this,void 0,void 0,(function*(){try{const r=yield function(t,e,r,i){return Bn(this,void 0,void 0,(function*(){return Jn(t,"PUT",e,i,void 0,r)}))}(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers});return{data:r,error:null}}catch(r){if(Mn(r))return{data:null,error:r};throw r}}))}emptyBucket(t){return ts(this,void 0,void 0,(function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(Mn(e))return{data:null,error:e};throw e}}))}deleteBucket(t){return ts(this,void 0,void 0,(function*(){try{return{data:yield Kn(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(Mn(e))return{data:null,error:e};throw e}}))}}class rs extends es{constructor(t,e={},r){super(t,e,r)}from(t){return new Yn(this.url,this.headers,t,this.fetch)}}let is="";is="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const ns={headers:{"X-Client-Info":`supabase-js-${is}/2.49.1`}},ss={schema:"public"},os={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},as={},ls=t=>{let e;return e=t||("undefined"==typeof fetch?xi:fetch),(...t)=>e(...t)},cs="2.68.0",us=3e4,hs={"X-Client-Info":"gotrue-js/"+cs},ds="X-Supabase-Api-Version",fs=Date.parse("2024-01-01T00:00:00.0Z"),ps=()=>"undefined"!=typeof window&&"undefined"!=typeof document,vs={tested:!1,writable:!1},ms=()=>{if(!ps())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(vs.tested)return vs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),vs.tested=!0,vs.writable=!0}catch(e){vs.tested=!0,vs.writable=!1}return vs.writable},ys=t=>{let e;return e=t||("undefined"==typeof fetch?(...t)=>oi((async()=>{const{default:t}=await Promise.resolve().then((()=>ji));return{default:t}}),void 0).then((({default:e})=>e(...t))):fetch),(...t)=>e(...t)},ws=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},bs=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch(i){return r}},gs=async(t,e)=>{await t.removeItem(e)};class xs{constructor(){this.promise=new xs.promiseConstructor(((t,e)=>{this.resolve=t,this.reject=e}))}}function _s(t){const e=t.split(".");if(3!==e.length)throw Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(e[1]))throw Error("JWT is not valid: payload is not in base64url format");const r=e[1];return JSON.parse(function(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r,i,n,s,o,a,l,c="",u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)s=e.indexOf(t.charAt(u++)),o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),r=s<<2|o>>4,i=(15&o)<<4|a>>2,n=(3&a)<<6|l,c+=String.fromCharCode(r),64!=a&&0!=i&&(c+=String.fromCharCode(i)),64!=l&&0!=n&&(c+=String.fromCharCode(n));return c}(r))}function ks(t){return("0"+t.toString(16)).substr(-2)}async function Os(t,e,r=!1){const i=function(){const t=new Uint32Array(56);if("undefined"==typeof crypto){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",e=t.length;let r="";for(let i=0;56>i;i++)r+=t.charAt(Math.floor(Math.random()*e));return r}return crypto.getRandomValues(t),Array.from(t,ks).join("")}();let n=i;r&&(n+="/PASSWORD_RECOVERY"),await ws(t,e+"-code-verifier",n);const s=await async function(t){if("undefined"==typeof crypto||void 0===crypto.subtle||"undefined"==typeof TextEncoder)return t;const e=await async function(t){const e=(new TextEncoder).encode(t),r=await crypto.subtle.digest("SHA-256",e),i=new Uint8Array(r);return Array.from(i).map((t=>String.fromCharCode(t))).join("")}(t);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}(i);return[s,i===s?"plain":"s256"]}xs.promiseConstructor=Promise;const js=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;class Ss extends Error{constructor(t,e,r){super(t),this.dt=!0,this.name="AuthError",this.status=e,this.code=r}}function Ts(t){return"object"==typeof t&&null!==t&&"dt"in t}class Es extends Ss{constructor(t,e,r){super(t,e,r),this.name="AuthApiError",this.status=e,this.code=r}}class As extends Ss{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class Ps extends Ss{constructor(t,e,r,i){super(t,r,i),this.name=e,this.status=r}}class $s extends Ps{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Is extends Ps{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rs extends Ps{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ns extends Ps{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cs extends Ps{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ds extends Ps{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function Fs(t){return Ts(t)&&"AuthRetryableFetchError"===t.name}class Ms extends Ps{constructor(t,e,r){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}}const Us=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zs=[502,503,504];async function Ls(t){var e,r;if(!("object"==typeof(r=t)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"==typeof r.json))throw new Ds(Us(t),0);if(zs.includes(t.status))throw new Ds(Us(t),t.status);let i,n;try{i=await t.json()}catch(o){throw new As(Us(o),o)}const s=function(t){const e=t.headers.get(ds);if(!e)return null;if(!e.match(js))return null;try{return new Date(e+"T00:00:00.0Z")}catch(o){return null}}(t);if(s&&s.getTime()>=fs&&"object"==typeof i&&i&&"string"==typeof i.code?n=i.code:"object"==typeof i&&i&&"string"==typeof i.error_code&&(n=i.error_code),n){if("weak_password"===n)throw new Ms(Us(i),t.status,(null===(e=i.weak_password)||void 0===e?void 0:e.reasons)||[]);if("session_not_found"===n)throw new $s}else if("object"==typeof i&&i&&"object"==typeof i.weak_password&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce(((t,e)=>t&&"string"==typeof e),!0))throw new Ms(Us(i),t.status,i.weak_password.reasons);throw new Es(Us(i),t.status||500,n)}async function qs(t,e,r,i){var n;const s=Object.assign({},null==i?void 0:i.headers);s[ds]||(s[ds]="2024-01-01"),(null==i?void 0:i.jwt)&&(s.Authorization="Bearer "+i.jwt);const o=null!==(n=null==i?void 0:i.query)&&void 0!==n?n:{};(null==i?void 0:i.redirectTo)&&(o.redirect_to=i.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await async function(t,e,r,i,n,s){const o=((t,e,r,i)=>{const n={method:t,headers:(null==e?void 0:e.headers)||{}};return"GET"===t?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==e?void 0:e.headers),n.body=JSON.stringify(i),Object.assign(Object.assign({},n),{}))})(e,i,0,s);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw new Ds(Us(l),0)}if(a.ok||await Ls(a),null==i?void 0:i.noResolveJson)return a;try{return await a.json()}catch(l){await Ls(l)}}(t,e,r+a,{headers:s,noResolveJson:null==i?void 0:i.noResolveJson},0,null==i?void 0:i.body);return(null==i?void 0:i.xform)?null==i?void 0:i.xform(l):{data:Object.assign({},l),error:null}}function Bs(t){var e;let r=null;var i;return function(t){return t.access_token&&t.refresh_token&&t.expires_in}(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=(i=t.expires_in,Math.round(Date.now()/1e3)+i))),{data:{session:r,user:null!==(e=t.user)&&void 0!==e?e:t},error:null}}function Zs(t){const e=Bs(t);return!e.error&&t.weak_password&&"object"==typeof t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&"string"==typeof t.weak_password.message&&t.weak_password.reasons.reduce(((t,e)=>t&&"string"==typeof e),!0)&&(e.data.weak_password=t.weak_password),e}function Js(t){var e;return{data:{user:null!==(e=t.user)&&void 0!==e?e:t},error:null}}function Gs(t){return{data:t,error:null}}function Ws(t){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:n,verification_type:s}=t,o=function(t,e){var r={};for(var i in t)({}).hasOwnProperty.call(t,i)&&0>e.indexOf(i)&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)0>e.indexOf(i[n])&&{}.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]])}return r}(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:e,email_otp:r,hashed_token:i,redirect_to:n,verification_type:s},user:Object.assign({},o)},error:null}}function Ks(t){return t}class Vs{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=ys(r),this.mfa={listFactors:this.ft.bind(this),deleteFactor:this.vt.bind(this)}}async signOut(t,e="global"){try{return await qs(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ts(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,e={}){try{return await qs(this.fetch,"POST",this.url+"/invite",{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Js})}catch(r){if(Ts(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:e}=t,r=function(t,e){var r={};for(var i in t)({}).hasOwnProperty.call(t,i)&&0>e.indexOf(i)&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(t);n<i.length;n++)0>e.indexOf(i[n])&&{}.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]])}return r}(t,["options"]),i=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(i.new_email=null==r?void 0:r.newEmail,delete i.newEmail),await qs(this.fetch,"POST",this.url+"/admin/generate_link",{body:i,headers:this.headers,xform:Ws,redirectTo:null==e?void 0:e.redirectTo})}catch(e){if(Ts(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await qs(this.fetch,"POST",this.url+"/admin/users",{body:t,headers:this.headers,xform:Js})}catch(e){if(Ts(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,r,i,n,s,o,a;try{const l={nextPage:null,lastPage:0,total:0},c=await qs(this.fetch,"GET",this.url+"/admin/users",{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(e=null==t?void 0:t.page)||void 0===e?void 0:e.toString())&&void 0!==r?r:"",per_page:null!==(n=null===(i=null==t?void 0:t.perPage)||void 0===i?void 0:i.toString())&&void 0!==n?n:""},xform:Ks});if(c.error)throw c.error;const u=await c.json(),h=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,d=null!==(a=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==a?a:[];return d.length>0&&(d.forEach((t=>{const e=parseInt(t.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(t.split(";")[1].split("=")[1]);l[r+"Page"]=e})),l.total=parseInt(h)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(Ts(l))return{data:{users:[]},error:l};throw l}}async getUserById(t){try{return await qs(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Js})}catch(e){if(Ts(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){try{return await qs(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Js})}catch(r){if(Ts(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,e=!1){try{return await qs(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Js})}catch(r){if(Ts(r))return{data:{user:null},error:r};throw r}}async ft(t){try{const{data:e,error:r}=await qs(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:t=>({data:{factors:t},error:null})});return{data:e,error:r}}catch(e){if(Ts(e))return{data:null,error:e};throw e}}async vt(t){try{return{data:await qs(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(Ts(e))return{data:null,error:e};throw e}}}const Hs={getItem:t=>ms()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ms()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ms()&&globalThis.localStorage.removeItem(t)}};function Qs(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Ys=!!(globalThis&&ms()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Xs extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class to extends Xs{}async function eo(t,e,r){const i=new globalThis.AbortController;return e>0&&setTimeout((()=>{i.abort()}),e),await Promise.resolve().then((()=>globalThis.navigator.locks.request(t,0===e?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},(async i=>{if(!i){if(0===e)throw new to(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ys)try{await globalThis.navigator.locks.query()}catch(n){}return await r()}try{return await r()}finally{}}))))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"yt",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.yt}catch(t){"undefined"!=typeof self&&(self.globalThis=self)}}();const ro={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hs,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function io(t,e,r){return await r()}class no{constructor(t){var e,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=no.nextInstanceID,no.nextInstanceID+=1,this.instanceID>0&&ps();const i=Object.assign(Object.assign({},ro),t);if(this.logDebugMessages=!!i.debug,"function"==typeof i.debug&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Vs({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ys(i.fetch),this.lock=i.lock||io,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ps()&&(null===(e=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===e?void 0:e.locks)?this.lock=eo:this.lock=io,this.mfa={verify:this.wt.bind(this),enroll:this.bt.bind(this),unenroll:this.xt.bind(this),challenge:this._t.bind(this),listFactors:this.ft.bind(this),challengeAndVerify:this.kt.bind(this),getAuthenticatorAssuranceLevel:this.Ot.bind(this)},this.persistSession?i.storage?this.storage=i.storage:ms()?this.storage=Hs:(this.memoryStorage={},this.storage=Qs(this.memoryStorage)):(this.memoryStorage={},this.storage=Qs(this.memoryStorage)),ps()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(n){}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",(async t=>{this.jt("received broadcast notification from other tab or client",t),await this.St(t.data.event,t.data.session,!1)}))}this.initialize()}jt(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cs}) ${(new Date).toISOString()}`,...t),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this.Tt(-1,(async()=>await this.Et())))()),await this.initializePromise}async Et(){var t;try{const e=function(t){const e={},r=new URL(t);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach(((t,r)=>{e[r]=t}))}catch(i){}return r.searchParams.forEach(((t,r)=>{e[r]=t})),e}(window.location.href);let r="none";if(this.At(e)?r="implicit":await this.Pt(e)&&(r="pkce"),ps()&&this.detectSessionInUrl&&"none"!==r){const{data:i,error:n}=await this.$t(e,r);if(n){if(this.jt("#_initialize()","error detecting session from URL",n),function(t){return Ts(t)&&"AuthImplicitGrantRedirectError"===t.name}(n)){const e=null===(t=n.details)||void 0===t?void 0:t.code;if("identity_already_exists"===e||"identity_not_found"===e||"single_identity_not_deletable"===e)return{error:n}}return await this.It(),{error:n}}const{session:s,redirectType:o}=i;return this.jt("#_initialize()","detected session in URL",s,"redirect type",o),await this.Rt(s),setTimeout((async()=>{"recovery"===o?await this.St("PASSWORD_RECOVERY",s):await this.St("SIGNED_IN",s)}),0),{error:null}}return await this.Nt(),{error:null}}catch(e){return Ts(e)?{error:e}:{error:new As("Unexpected error during initialization",e)}}finally{await this.Ct(),this.jt("#_initialize()","end")}}async signInAnonymously(t){var e,r,i;try{const n=await qs(this.fetch,"POST",this.url+"/signup",{headers:this.headers,body:{data:null!==(r=null===(e=null==t?void 0:t.options)||void 0===e?void 0:e.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(i=null==t?void 0:t.options)||void 0===i?void 0:i.captchaToken}},xform:Bs}),{data:s,error:o}=n;if(o||!s)return{data:{user:null,session:null},error:o};const a=s.session,l=s.user;return s.session&&(await this.Rt(s.session),await this.St("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(n){if(Ts(n))return{data:{user:null,session:null},error:n};throw n}}async signUp(t){var e,r,i;try{let n;if("email"in t){const{email:r,password:i,options:s}=t;let o=null,a=null;"pkce"===this.flowType&&([o,a]=await Os(this.storage,this.storageKey)),n=await qs(this.fetch,"POST",this.url+"/signup",{headers:this.headers,redirectTo:null==s?void 0:s.emailRedirectTo,body:{email:r,password:i,data:null!==(e=null==s?void 0:s.data)&&void 0!==e?e:{},gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:o,code_challenge_method:a},xform:Bs})}else{if(!("phone"in t))throw new Rs("You must provide either an email or phone number and a password");{const{phone:e,password:s,options:o}=t;n=await qs(this.fetch,"POST",this.url+"/signup",{headers:this.headers,body:{phone:e,password:s,data:null!==(r=null==o?void 0:o.data)&&void 0!==r?r:{},channel:null!==(i=null==o?void 0:o.channel)&&void 0!==i?i:"sms",gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:Bs})}}const{data:s,error:o}=n;if(o||!s)return{data:{user:null,session:null},error:o};const a=s.session,l=s.user;return s.session&&(await this.Rt(s.session),await this.St("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(n){if(Ts(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithPassword(t){try{let e;if("email"in t){const{email:r,password:i,options:n}=t;e=await qs(this.fetch,"POST",this.url+"/token?grant_type=password",{headers:this.headers,body:{email:r,password:i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:Zs})}else{if(!("phone"in t))throw new Rs("You must provide either an email or phone number and a password");{const{phone:r,password:i,options:n}=t;e=await qs(this.fetch,"POST",this.url+"/token?grant_type=password",{headers:this.headers,body:{phone:r,password:i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},xform:Zs})}}const{data:r,error:i}=e;return i?{data:{user:null,session:null},error:i}:r&&r.session&&r.user?(r.session&&(await this.Rt(r.session),await this.St("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i}):{data:{user:null,session:null},error:new Is}}catch(e){if(Ts(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(t){var e,r,i,n;return await this.Dt(t.provider,{redirectTo:null===(e=t.options)||void 0===e?void 0:e.redirectTo,scopes:null===(r=t.options)||void 0===r?void 0:r.scopes,queryParams:null===(i=t.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:null===(n=t.options)||void 0===n?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this.Tt(-1,(async()=>this.Ft(t)))}async Ft(t){const e=await bs(this.storage,this.storageKey+"-code-verifier"),[r,i]=(null!=e?e:"").split("/");try{const{data:e,error:n}=await qs(this.fetch,"POST",this.url+"/token?grant_type=pkce",{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Bs});if(await gs(this.storage,this.storageKey+"-code-verifier"),n)throw n;return e&&e.session&&e.user?(e.session&&(await this.Rt(e.session),await this.St("SIGNED_IN",e.session)),{data:Object.assign(Object.assign({},e),{redirectType:null!=i?i:null}),error:n}):{data:{user:null,session:null,redirectType:null},error:new Is}}catch(n){if(Ts(n))return{data:{user:null,session:null,redirectType:null},error:n};throw n}}async signInWithIdToken(t){try{const{options:e,provider:r,token:i,access_token:n,nonce:s}=t,o=await qs(this.fetch,"POST",this.url+"/token?grant_type=id_token",{headers:this.headers,body:{provider:r,id_token:i,access_token:n,nonce:s,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},xform:Bs}),{data:a,error:l}=o;return l?{data:{user:null,session:null},error:l}:a&&a.session&&a.user?(a.session&&(await this.Rt(a.session),await this.St("SIGNED_IN",a.session)),{data:a,error:l}):{data:{user:null,session:null},error:new Is}}catch(e){if(Ts(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(t){var e,r,i,n,s;try{if("email"in t){const{email:i,options:n}=t;let s=null,o=null;"pkce"===this.flowType&&([s,o]=await Os(this.storage,this.storageKey));const{error:a}=await qs(this.fetch,"POST",this.url+"/otp",{headers:this.headers,body:{email:i,data:null!==(e=null==n?void 0:n.data)&&void 0!==e?e:{},create_user:null===(r=null==n?void 0:n.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},code_challenge:s,code_challenge_method:o},redirectTo:null==n?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in t){const{phone:e,options:r}=t,{data:o,error:a}=await qs(this.fetch,"POST",this.url+"/otp",{headers:this.headers,body:{phone:e,data:null!==(i=null==r?void 0:r.data)&&void 0!==i?i:{},create_user:null===(n=null==r?void 0:r.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(s=null==r?void 0:r.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:a}}throw new Rs("You must provide either an email or phone number.")}catch(o){if(Ts(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var e,r;try{let i,n;"options"in t&&(i=null===(e=t.options)||void 0===e?void 0:e.redirectTo,n=null===(r=t.options)||void 0===r?void 0:r.captchaToken);const{data:s,error:o}=await qs(this.fetch,"POST",this.url+"/verify",{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:n}}),redirectTo:i,xform:Bs});if(o)throw o;if(!s)throw Error("An error occurred on token verification.");const a=s.session,l=s.user;return(null==a?void 0:a.access_token)&&(await this.Rt(a),await this.St("recovery"==t.type?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(i){if(Ts(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var e,r,i;try{let n=null,s=null;return"pkce"===this.flowType&&([n,s]=await Os(this.storage,this.storageKey)),await qs(this.fetch,"POST",this.url+"/sso",{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:null!==(r=null===(e=t.options)||void 0===e?void 0:e.redirectTo)&&void 0!==r?r:void 0}),(null===(i=null==t?void 0:t.options)||void 0===i?void 0:i.captchaToken)?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:n,code_challenge_method:s}),headers:this.headers,xform:Gs})}catch(n){if(Ts(n))return{data:null,error:n};throw n}}async reauthenticate(){return await this.initializePromise,await this.Tt(-1,(async()=>await this.Mt()))}async Mt(){try{return await this.Ut((async t=>{const{data:{session:e},error:r}=t;if(r)throw r;if(!e)throw new $s;const{error:i}=await qs(this.fetch,"GET",this.url+"/reauthenticate",{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:i}}))}catch(t){if(Ts(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const e=this.url+"/resend";if("email"in t){const{email:r,type:i,options:n}=t,{error:s}=await qs(this.fetch,"POST",e,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}},redirectTo:null==n?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in t){const{phone:r,type:i,options:n}=t,{data:s,error:o}=await qs(this.fetch,"POST",e,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken}}});return{data:{user:null,session:null,messageId:null==s?void 0:s.message_id},error:o}}throw new Rs("You must provide either an email or phone number and a type")}catch(e){if(Ts(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this.Tt(-1,(async()=>this.Ut((async t=>t))))}async Tt(t,e){this.jt("#_acquireLock","begin",t);try{if(this.lockAcquired){const t=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await t,await e()))();return this.pendingInLock.push((async()=>{try{await r}catch(t){}})()),r}return await this.lock("lock:"+this.storageKey,t,(async()=>{this.jt("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const t=e();for(this.pendingInLock.push((async()=>{try{await t}catch(e){}})()),await t;this.pendingInLock.length;){const t=[...this.pendingInLock];await Promise.all(t),this.pendingInLock.splice(0,t.length)}return await t}finally{this.jt("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this.jt("#_acquireLock","end")}}async Ut(t){this.jt("#_useSession","begin");try{const e=await this.zt();return await t(e)}finally{this.jt("#_useSession","end")}}async zt(){this.jt("#__loadSession()","begin"),this.lockAcquired||this.jt("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let t=null;const e=await bs(this.storage,this.storageKey);if(this.jt("#getSession()","session from storage",e),null!==e&&(this.Lt(e)?t=e:(this.jt("#getSession()","session from storage is not valid"),await this.It())),!t)return{data:{session:null},error:null};const r=!!t.expires_at&&9e4>1e3*t.expires_at-Date.now();if(this.jt("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let e=this.suppressGetSessionWarning;t=new Proxy(t,{get:(t,r,i)=>(e||"user"!==r||(e=!0,this.suppressGetSessionWarning=!0),Reflect.get(t,r,i))})}return{data:{session:t},error:null}}const{session:i,error:n}=await this.qt(t.refresh_token);return n?{data:{session:null},error:n}:{data:{session:i},error:null}}finally{this.jt("#__loadSession()","end")}}async getUser(t){return t?await this.Bt(t):(await this.initializePromise,await this.Tt(-1,(async()=>await this.Bt())))}async Bt(t){try{return t?await qs(this.fetch,"GET",this.url+"/user",{headers:this.headers,jwt:t,xform:Js}):await this.Ut((async t=>{var e,r,i;const{data:n,error:s}=t;if(s)throw s;return(null===(e=n.session)||void 0===e?void 0:e.access_token)||this.hasCustomAuthorizationHeader?await qs(this.fetch,"GET",this.url+"/user",{headers:this.headers,jwt:null!==(i=null===(r=n.session)||void 0===r?void 0:r.access_token)&&void 0!==i?i:void 0,xform:Js}):{data:{user:null},error:new $s}}))}catch(e){if(Ts(e))return function(t){return Ts(t)&&"AuthSessionMissingError"===t.name}(e)&&(await this.It(),await gs(this.storage,this.storageKey+"-code-verifier")),{data:{user:null},error:e};throw e}}async updateUser(t,e={}){return await this.initializePromise,await this.Tt(-1,(async()=>await this.Zt(t,e)))}async Zt(t,e={}){try{return await this.Ut((async r=>{const{data:i,error:n}=r;if(n)throw n;if(!i.session)throw new $s;const s=i.session;let o=null,a=null;"pkce"===this.flowType&&null!=t.email&&([o,a]=await Os(this.storage,this.storageKey));const{data:l,error:c}=await qs(this.fetch,"PUT",this.url+"/user",{headers:this.headers,redirectTo:null==e?void 0:e.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:a}),jwt:s.access_token,xform:Js});if(c)throw c;return s.user=l.user,await this.Rt(s),await this.St("USER_UPDATED",s),{data:{user:s.user},error:null}}))}catch(r){if(Ts(r))return{data:{user:null},error:r};throw r}}Jt(t){return _s(t)}async setSession(t){return await this.initializePromise,await this.Tt(-1,(async()=>await this.Gt(t)))}async Gt(t){try{if(!t.access_token||!t.refresh_token)throw new $s;const e=Date.now()/1e3;let r=e,i=!0,n=null;const s=_s(t.access_token);if(s.exp&&(r=s.exp,i=e>=r),i){const{session:e,error:r}=await this.qt(t.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!e)return{data:{user:null,session:null},error:null};n=e}else{const{data:i,error:s}=await this.Bt(t.access_token);if(s)throw s;n={access_token:t.access_token,refresh_token:t.refresh_token,user:i.user,token_type:"bearer",expires_in:r-e,expires_at:r},await this.Rt(n),await this.St("SIGNED_IN",n)}return{data:{user:n.user,session:n},error:null}}catch(e){if(Ts(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(t){return await this.initializePromise,await this.Tt(-1,(async()=>await this.Wt(t)))}async Wt(t){try{return await this.Ut((async e=>{var r;if(!t){const{data:i,error:n}=e;if(n)throw n;t=null!==(r=i.session)&&void 0!==r?r:void 0}if(!(null==t?void 0:t.refresh_token))throw new $s;const{session:i,error:n}=await this.qt(t.refresh_token);return n?{data:{user:null,session:null},error:n}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(e){if(Ts(e))return{data:{user:null,session:null},error:e};throw e}}async $t(t,e){try{if(!ps())throw new Ns("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ns(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(e){case"implicit":if("pkce"===this.flowType)throw new Cs("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Ns("Not a valid implicit grant flow url.")}if("pkce"===e){if(this.jt("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Cs("No code detected.");const{data:e,error:r}=await this.Ft(t.code);if(r)throw r;const i=new URL(window.location.href);return i.searchParams.delete("code"),window.history.replaceState(window.history.state,"",i.toString()),{data:{session:e.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:n,refresh_token:s,expires_in:o,expires_at:a,token_type:l}=t;if(!(n&&o&&s&&l))throw new Ns("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(o);let h=c+u;a&&(h=parseInt(a));const{data:d,error:f}=await this.Bt(n);if(f)throw f;const p={provider_token:r,provider_refresh_token:i,access_token:n,expires_in:u,expires_at:h,refresh_token:s,token_type:l,user:d.user};return window.location.hash="",this.jt("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(r){if(Ts(r))return{data:{session:null,redirectType:null},error:r};throw r}}At(t){return!(!t.access_token&&!t.error_description)}async Pt(t){const e=await bs(this.storage,this.storageKey+"-code-verifier");return!(!t.code||!e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this.Tt(-1,(async()=>await this.Kt(t)))}async Kt({scope:t}={scope:"global"}){return await this.Ut((async e=>{var r;const{data:i,error:n}=e;if(n)return{error:n};const s=null===(r=i.session)||void 0===r?void 0:r.access_token;if(s){const{error:e}=await this.admin.signOut(s,t);if(e&&(!function(t){return Ts(t)&&"AuthApiError"===t.name}(e)||404!==e.status&&401!==e.status&&403!==e.status))return{error:e}}return"others"!==t&&(await this.It(),await gs(this.storage,this.storageKey+"-code-verifier")),{error:null}}))}onAuthStateChange(t){const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})),r={id:e,callback:t,unsubscribe:()=>{this.jt("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this.jt("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,r),(async()=>{await this.initializePromise,await this.Tt(-1,(async()=>{this.Vt(e)}))})(),{data:{subscription:r}}}async Vt(t){return await this.Ut((async e=>{var r,i;try{const{data:{session:i},error:n}=e;if(n)throw n;await(null===(r=this.stateChangeEmitters.get(t))||void 0===r?void 0:r.callback("INITIAL_SESSION",i)),this.jt("INITIAL_SESSION","callback id",t,"session",i)}catch(n){await(null===(i=this.stateChangeEmitters.get(t))||void 0===i?void 0:i.callback("INITIAL_SESSION",null)),this.jt("INITIAL_SESSION","callback id",t,"error",n)}}))}async resetPasswordForEmail(t,e={}){let r=null,i=null;"pkce"===this.flowType&&([r,i]=await Os(this.storage,this.storageKey,!0));try{return await qs(this.fetch,"POST",this.url+"/recover",{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(n){if(Ts(n))return{data:null,error:n};throw n}}async getUserIdentities(){var t;try{const{data:e,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(t=e.user.identities)&&void 0!==t?t:[]},error:null}}catch(e){if(Ts(e))return{data:null,error:e};throw e}}async linkIdentity(t){var e;try{const{data:r,error:i}=await this.Ut((async e=>{var r,i,n,s,o;const{data:a,error:l}=e;if(l)throw l;const c=await this.Ht(this.url+"/user/identities/authorize",t.provider,{redirectTo:null===(r=t.options)||void 0===r?void 0:r.redirectTo,scopes:null===(i=t.options)||void 0===i?void 0:i.scopes,queryParams:null===(n=t.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:!0});return await qs(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(s=a.session)||void 0===s?void 0:s.access_token)&&void 0!==o?o:void 0})}));if(i)throw i;return ps()&&!(null===(e=t.options)||void 0===e?void 0:e.skipBrowserRedirect)&&window.location.assign(null==r?void 0:r.url),{data:{provider:t.provider,url:null==r?void 0:r.url},error:null}}catch(r){if(Ts(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this.Ut((async e=>{var r,i;const{data:n,error:s}=e;if(s)throw s;return await qs(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:null!==(i=null===(r=n.session)||void 0===r?void 0:r.access_token)&&void 0!==i?i:void 0})}))}catch(e){if(Ts(e))return{data:null,error:e};throw e}}async Qt(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this.jt(e,"begin");try{const n=Date.now();return await(r=async r=>(r>0&&await async function(t){return await new Promise((e=>{setTimeout((()=>e(null)),t)}))}(200*Math.pow(2,r-1)),this.jt(e,"refreshing attempt",r),await qs(this.fetch,"POST",this.url+"/token?grant_type=refresh_token",{body:{refresh_token:t},headers:this.headers,xform:Bs})),i=(t,e)=>{const r=200*Math.pow(2,t);return e&&Fs(e)&&Date.now()+r-n<us},new Promise(((t,e)=>{(async()=>{for(let s=0;1/0>s;s++)try{const e=await r(s);if(!i(s,null))return void t(e)}catch(n){if(!i(s,n))return void e(n)}})()})))}catch(n){if(this.jt(e,"error",n),Ts(n))return{data:{session:null,user:null},error:n};throw n}finally{this.jt(e,"end")}var r,i}Lt(t){return"object"==typeof t&&null!==t&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async Dt(t,e){const r=await this.Ht(this.url+"/authorize",t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this.jt("#_handleProviderSignIn()","provider",t,"options",e,"url",r),ps()&&!e.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async Nt(){var t;const e="#_recoverAndRefresh()";this.jt(e,"begin");try{const r=await bs(this.storage,this.storageKey);if(this.jt(e,"session from storage",r),!this.Lt(r))return this.jt(e,"session is not valid"),void(null!==r&&await this.It());const i=9e4>1e3*(null!==(t=r.expires_at)&&void 0!==t?t:1/0)-Date.now();if(this.jt(e,`session has${i?"":" not"} expired with margin of 90000s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:t}=await this.qt(r.refresh_token);t&&(Fs(t)||(this.jt(e,"refresh failed with a non-retryable error, removing the session",t),await this.It()))}}else await this.St("SIGNED_IN",r)}catch(r){return void this.jt(e,"error",r)}finally{this.jt(e,"end")}}async qt(t){var e,r;if(!t)throw new $s;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this.jt(i,"begin");try{this.refreshingDeferred=new xs;const{data:e,error:r}=await this.Qt(t);if(r)throw r;if(!e.session)throw new $s;await this.Rt(e.session),await this.St("TOKEN_REFRESHED",e.session);const i={session:e.session,error:null};return this.refreshingDeferred.resolve(i),i}catch(n){if(this.jt(i,"error",n),Ts(n)){const t={session:null,error:n};return Fs(n)||await this.It(),null===(e=this.refreshingDeferred)||void 0===e||e.resolve(t),t}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(n),n}finally{this.refreshingDeferred=null,this.jt(i,"end")}}async St(t,e,r=!0){const i=`#_notifyAllSubscribers(${t})`;this.jt(i,"begin",e,"broadcast = "+r);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:e});const i=[],n=Array.from(this.stateChangeEmitters.values()).map((async r=>{try{await r.callback(t,e)}catch(n){i.push(n)}}));if(await Promise.all(n),i.length>0){for(let t=0;t<i.length;t+=1);throw i[0]}}finally{this.jt(i,"end")}}async Rt(t){this.jt("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ws(this.storage,this.storageKey,t)}async It(){this.jt("#_removeSession()"),await gs(this.storage,this.storageKey),await this.St("SIGNED_OUT",null)}Yt(){this.jt("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ps()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(e){}}async Xt(){await this.te(),this.jt("#_startAutoRefresh()");const t=setInterval((()=>this.ee()),us);this.autoRefreshTicker=t,t&&"object"==typeof t&&"function"==typeof t.unref?t.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(t),setTimeout((async()=>{await this.initializePromise,await this.ee()}),0)}async te(){this.jt("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this.Yt(),await this.Xt()}async stopAutoRefresh(){this.Yt(),await this.te()}async ee(){this.jt("#_autoRefreshTokenTick()","begin");try{await this.Tt(0,(async()=>{try{const e=Date.now();try{return await this.Ut((async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this.jt("#_autoRefreshTokenTick()","no session");const i=Math.floor((1e3*r.expires_at-e)/us);this.jt("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),i>3||await this.qt(r.refresh_token)}))}catch(t){}}finally{this.jt("#_autoRefreshTokenTick()","end")}}))}catch(t){if(!(t.isAcquireTimeout||t instanceof Xs))throw t;this.jt("auto refresh token tick lock not available")}}async Ct(){if(this.jt("#_handleVisibilityChange()"),!ps()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this.re(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this.re(!0)}catch(t){}}async re(t){const e=`#_onVisibilityChanged(${t})`;this.jt(e,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this.Xt(),t||(await this.initializePromise,await this.Tt(-1,(async()=>{"visible"===document.visibilityState?await this.Nt():this.jt(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this.te()}async Ht(t,e,r){const i=["provider="+encodeURIComponent(e)];if((null==r?void 0:r.redirectTo)&&i.push("redirect_to="+encodeURIComponent(r.redirectTo)),(null==r?void 0:r.scopes)&&i.push("scopes="+encodeURIComponent(r.scopes)),"pkce"===this.flowType){const[t,e]=await Os(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:""+encodeURIComponent(t),code_challenge_method:""+encodeURIComponent(e)});i.push(r.toString())}if(null==r?void 0:r.queryParams){const t=new URLSearchParams(r.queryParams);i.push(t.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&i.push("skip_http_redirect="+r.skipBrowserRedirect),`${t}?${i.join("&")}`}async xt(t){try{return await this.Ut((async e=>{var r;const{data:i,error:n}=e;return n?{data:null,error:n}:await qs(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:null===(r=null==i?void 0:i.session)||void 0===r?void 0:r.access_token})}))}catch(e){if(Ts(e))return{data:null,error:e};throw e}}async bt(t){try{return await this.Ut((async e=>{var r,i;const{data:n,error:s}=e;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},"phone"===t.factorType?{phone:t.phone}:{issuer:t.issuer}),{data:a,error:l}=await qs(this.fetch,"POST",this.url+"/factors",{body:o,headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===t.factorType&&(null===(i=null==a?void 0:a.totp)||void 0===i?void 0:i.qr_code)&&(a.totp.qr_code="data:image/svg+xml;utf-8,"+a.totp.qr_code),{data:a,error:null})}))}catch(e){if(Ts(e))return{data:null,error:e};throw e}}async wt(t){return this.Tt(-1,(async()=>{try{return await this.Ut((async e=>{var r;const{data:i,error:n}=e;if(n)return{data:null,error:n};const{data:s,error:o}=await qs(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:null===(r=null==i?void 0:i.session)||void 0===r?void 0:r.access_token});return o?{data:null,error:o}:(await this.Rt(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this.St("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})}))}catch(e){if(Ts(e))return{data:null,error:e};throw e}}))}async _t(t){return this.Tt(-1,(async()=>{try{return await this.Ut((async e=>{var r;const{data:i,error:n}=e;return n?{data:null,error:n}:await qs(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:null===(r=null==i?void 0:i.session)||void 0===r?void 0:r.access_token})}))}catch(e){if(Ts(e))return{data:null,error:e};throw e}}))}async kt(t){const{data:e,error:r}=await this._t({factorId:t.factorId});return r?{data:null,error:r}:await this.wt({factorId:t.factorId,challengeId:e.id,code:t.code})}async ft(){const{data:{user:t},error:e}=await this.getUser();if(e)return{data:null,error:e};const r=(null==t?void 0:t.factors)||[],i=r.filter((t=>"totp"===t.factor_type&&"verified"===t.status)),n=r.filter((t=>"phone"===t.factor_type&&"verified"===t.status));return{data:{all:r,totp:i,phone:n},error:null}}async Ot(){return this.Tt(-1,(async()=>await this.Ut((async t=>{var e,r;const{data:{session:i},error:n}=t;if(n)return{data:null,error:n};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const s=this.Jt(i.access_token);let o=null;s.aal&&(o=s.aal);let a=o;return(null!==(r=null===(e=i.user.factors)||void 0===e?void 0:e.filter((t=>"verified"===t.status)))&&void 0!==r?r:[]).length>0&&(a="aal2"),{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:s.amr||[]},error:null}}))))}}no.nextInstanceID=0;const so=no;class oo extends so{constructor(t){super(t)}}class ao{constructor(t,e,r){var i,n,s;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw Error("supabaseUrl is required.");if(!e)throw Error("supabaseKey is required.");const o=t.replace(/\/$/,"");this.realtimeUrl=(o+"/realtime/v1").replace(/^http/i,"ws"),this.authUrl=o+"/auth/v1",this.storageUrl=o+"/storage/v1",this.functionsUrl=o+"/functions/v1";const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l=function(t,e){const{db:r,auth:i,realtime:n,global:s}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),i),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},c),s),accessToken:()=>{return t=this,r=function*(){return""},new((e=void 0)||(e=Promise))((function(i,n){function s(t){try{a(r.next(t))}catch(e){n(e)}}function o(t){try{a(r.throw(t))}catch(e){n(e)}}function a(t){var r;t.done?i(t.value):(r=t.value,r instanceof e?r:new e((function(t){t(r)}))).then(s,o)}a((r=r.call(t)).next())}));var t,e,r}};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}(null!=r?r:{},{db:ss,realtime:as,auth:Object.assign(Object.assign({},os),{storageKey:a}),global:ns});this.storageKey=null!==(i=l.auth.storageKey)&&void 0!==i?i:"",this.headers=null!==(n=l.global.headers)&&void 0!==n?n:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(t,e)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${e+""} is not possible`)}})):this.auth=this.ie(null!==(s=l.auth)&&void 0!==s?s:{},this.headers,l.global.fetch),this.fetch=((t,e,r)=>{const i=ls(r),n="undefined"==typeof Headers?_i:Headers;return(r,s)=>{return a=function*(){var o;const a=null!==(o=yield e())&&void 0!==o?o:t;let l=new n(null==s?void 0:s.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization","Bearer "+a),i(r,Object.assign(Object.assign({},s),{headers:l}))},new((o=void 0)||(o=Promise))((function(t,e){function r(t){try{n(a.next(t))}catch(r){e(r)}}function i(t){try{n(a.throw(t))}catch(r){e(r)}}function n(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(r,i)}n((a=a.call(void 0)).next())}));var o,a}})(e,this.ne.bind(this),l.global.fetch),this.realtime=this.se(Object.assign({headers:this.headers,accessToken:this.ne.bind(this)},l.realtime)),this.rest=new tn(o+"/rest/v1",{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this.oe()}get functions(){return new di(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new rs(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}ne(){var t,e,r,i,n;return r=this,n=function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(e=null===(t=r.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:null},new((i=void 0)||(i=Promise))((function(t,e){function s(t){try{a(n.next(t))}catch(r){e(r)}}function o(t){try{a(n.throw(t))}catch(r){e(r)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof i?r:new i((function(t){t(r)}))).then(s,o)}a((n=n.call(r)).next())}))}ie({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,storageKey:n,flowType:s,lock:o,debug:a},l,c){const u={Authorization:"Bearer "+this.supabaseKey,apikey:""+this.supabaseKey};return new oo({url:this.authUrl,headers:Object.assign(Object.assign({},u),l),storageKey:n,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:i,flowType:s,lock:o,debug:a,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}se(t){return new Cn(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},null==t?void 0:t.params)}))}oe(){return this.auth.onAuthStateChange(((t,e)=>{this.ae(t,"CLIENT",null==e?void 0:e.access_token)}))}ae(t,e,r){"TOKEN_REFRESHED"!==t&&"SIGNED_IN"!==t||this.changedAccessToken===r?"SIGNED_OUT"===t&&(this.realtime.setAuth(),"STORAGE"==e&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}const lo=(t,e,r)=>new ao(t,e,r),co=(t,e,r)=>{if(t&&"reportValidity"in t){const n=i(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},uo=(t,e)=>{for(const r in e.fields){const i=e.fields[r];i&&i.ref&&"reportValidity"in i.ref?co(i.ref,r,t):i.refs&&i.refs.forEach((e=>co(e,r,t)))}},ho=(t,e)=>{e.shouldUseNativeValidation&&uo(t,e);const r={};for(const s in t){const o=i(e.fields,s),a=Object.assign(t[s]||{},{ref:o&&o.ref});if(fo(e.names||Object.keys(t),s)){const t=Object.assign({},i(r,s));n(t,"root",a),n(r,s,t)}else n(r,s,a)}return r},fo=(t,e)=>t.some((t=>t.startsWith(e+".")));var po,vo,mo=function(t,e){for(var r={};t.length;){var i=t[0],n=i.code,o=i.message,a=i.path.join(".");if(!r[a])if("unionErrors"in i){var l=i.unionErrors[0].errors[0];r[a]={message:l.message,type:l.code}}else r[a]={message:o,type:n};if("unionErrors"in i&&i.unionErrors.forEach((function(e){return e.errors.forEach((function(e){return t.push(e)}))})),e){var c=r[a].types,u=c&&c[i.code];r[a]=s(a,e,r,n,u?[].concat(u,i.message):i.message)}t.shift()}return r},yo=function(t,e,r){return void 0===r&&(r={}),function(i,n,s){try{return Promise.resolve(function(n,o){try{var a=Promise.resolve(t["sync"===r.mode?"parse":"parseAsync"](i,e)).then((function(t){return s.shouldUseNativeValidation&&uo({},s),{errors:{},values:r.raw?i:t}}))}catch(ho){return o(ho)}return a&&a.then?a.then(void 0,o):a}(0,(function(t){if(function(t){return Array.isArray(null==t?void 0:t.errors)}(t))return{values:{},errors:ho(mo(t.errors,!s.shouldUseNativeValidation&&"all"===s.criteriaMode),s)};throw t})))}catch(ho){return Promise.reject(ho)}}};!function(t){t.assertEqual=t=>t,t.assertIs=function(t){},t.assertNever=function(t){throw Error()},t.arrayToEnum=t=>{const e={};for(const r of t)e[r]=r;return e},t.getValidEnumValues=e=>{const r=t.objectKeys(e).filter((t=>"number"!=typeof e[e[t]])),i={};for(const t of r)i[t]=e[t];return t.objectValues(i)},t.objectValues=e=>t.objectKeys(e).map((function(t){return e[t]})),t.objectKeys="function"==typeof Object.keys?t=>Object.keys(t):t=>{const e=[];for(const r in t)({}).hasOwnProperty.call(t,r)&&e.push(r);return e},t.find=(t,e)=>{for(const r of t)if(e(r))return r},t.isInteger="function"==typeof Number.isInteger?t=>Number.isInteger(t):t=>"number"==typeof t&&isFinite(t)&&Math.floor(t)===t,t.joinValues=function(t,e=" | "){return t.map((t=>"string"==typeof t?`'${t}'`:t)).join(e)},t.jsonStringifyReplacer=(t,e)=>"bigint"==typeof e?e.toString():e}(po||(po={})),function(t){t.mergeShapes=(t,e)=>({...t,...e})}(vo||(vo={}));const wo=po.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bo=t=>{switch(typeof t){case"undefined":return wo.undefined;case"string":return wo.string;case"number":return isNaN(t)?wo.nan:wo.number;case"boolean":return wo.boolean;case"function":return wo.function;case"bigint":return wo.bigint;case"symbol":return wo.symbol;case"object":return Array.isArray(t)?wo.array:null===t?wo.null:t.then&&"function"==typeof t.then&&t.catch&&"function"==typeof t.catch?wo.promise:"undefined"!=typeof Map&&t instanceof Map?wo.map:"undefined"!=typeof Set&&t instanceof Set?wo.set:void 0!==Date&&t instanceof Date?wo.date:wo.object;default:return wo.unknown}},go=po.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class xo extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=t=>{this.issues=[...this.issues,t]},this.addIssues=(t=[])=>{this.issues=[...this.issues,...t]};const e=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,e):this.__proto__=e,this.name="ZodError",this.issues=t}format(t){const e=t||function(t){return t.message},r={le:[]},i=t=>{for(const n of t.issues)if("invalid_union"===n.code)n.unionErrors.map(i);else if("invalid_return_type"===n.code)i(n.returnTypeError);else if("invalid_arguments"===n.code)i(n.argumentsError);else if(0===n.path.length)r.le.push(e(n));else{let t=r,i=0;for(;i<n.path.length;){const r=n.path[i];i===n.path.length-1?(t[r]=t[r]||{le:[]},t[r].le.push(e(n))):t[r]=t[r]||{le:[]},t=t[r],i++}}};return i(this),r}static assert(t){if(!(t instanceof xo))throw Error("Not a ZodError: "+t)}toString(){return this.message}get message(){return JSON.stringify(this.issues,po.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(t=t=>t.message){const e={},r=[];for(const i of this.issues)i.path.length>0?(e[i.path[0]]=e[i.path[0]]||[],e[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:e}}get formErrors(){return this.flatten()}}xo.create=t=>new xo(t);const _o=(t,e)=>{let r;switch(t.code){case go.invalid_type:r=t.received===wo.undefined?"Required":`Expected ${t.expected}, received ${t.received}`;break;case go.invalid_literal:r="Invalid literal value, expected "+JSON.stringify(t.expected,po.jsonStringifyReplacer);break;case go.unrecognized_keys:r="Unrecognized key(s) in object: "+po.joinValues(t.keys,", ");break;case go.invalid_union:r="Invalid input";break;case go.invalid_union_discriminator:r="Invalid discriminator value. Expected "+po.joinValues(t.options);break;case go.invalid_enum_value:r=`Invalid enum value. Expected ${po.joinValues(t.options)}, received '${t.received}'`;break;case go.invalid_arguments:r="Invalid function arguments";break;case go.invalid_return_type:r="Invalid function return type";break;case go.invalid_date:r="Invalid date";break;case go.invalid_string:"object"==typeof t.validation?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,"number"==typeof t.validation.position&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:po.assertNever(t.validation):r="regex"!==t.validation?"Invalid "+t.validation:"Invalid";break;case go.too_small:r="array"===t.type?`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:"string"===t.type?`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:"number"===t.type?`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:"date"===t.type?`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(+t.minimum)}`:"Invalid input";break;case go.too_big:r="array"===t.type?`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:"string"===t.type?`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:"number"===t.type?`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:"bigint"===t.type?`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:"date"===t.type?`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(+t.maximum)}`:"Invalid input";break;case go.custom:r="Invalid input";break;case go.invalid_intersection_types:r="Intersection results could not be merged";break;case go.not_multiple_of:r="Number must be a multiple of "+t.multipleOf;break;case go.not_finite:r="Number must be finite";break;default:r=e.defaultError,po.assertNever(t)}return{message:r}};let ko=_o;function Oo(t,e){const r=ko,i=(t=>{const{data:e,path:r,errorMaps:i,issueData:n}=t,s=[...r,...n.path||[]],o={...n,path:s};if(void 0!==n.message)return{...n,path:s,message:n.message};let a="";const l=i.filter((t=>!!t)).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...n,path:s,message:a}})({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===_o?void 0:_o].filter((t=>!!t))});t.common.issues.push(i)}class jo{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(t,e){const r=[];for(const i of e){if("aborted"===i.status)return So;"dirty"===i.status&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,e){const r=[];for(const i of e){const t=await i.key,e=await i.value;r.push({key:t,value:e})}return jo.mergeObjectSync(t,r)}static mergeObjectSync(t,e){const r={};for(const i of e){const{key:e,value:n}=i;if("aborted"===e.status)return So;if("aborted"===n.status)return So;"dirty"===e.status&&t.dirty(),"dirty"===n.status&&t.dirty(),"__proto__"===e.value||void 0===n.value&&!i.alwaysSet||(r[e.value]=n.value)}return{status:t.value,value:r}}}const So=Object.freeze({status:"aborted"}),To=t=>({status:"dirty",value:t}),Eo=t=>({status:"valid",value:t}),Ao=t=>"aborted"===t.status,Po=t=>"dirty"===t.status,$o=t=>"valid"===t.status,Io=t=>"undefined"!=typeof Promise&&t instanceof Promise;function Ro(t,e,r,i){if("function"==typeof e||!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function No(t,e,r,i,n){if("function"==typeof e||!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var Co,Do,Fo;"function"==typeof SuppressedError&&SuppressedError,function(t){t.errToObj=t=>"string"==typeof t?{message:t}:t||{},t.toString=t=>"string"==typeof t?t:null==t?void 0:t.message}(Co||(Co={}));class Mo{constructor(t,e,r,i){this.ce=[],this.parent=t,this.data=e,this.ue=r,this.he=i}get path(){return this.ce.length||(this.he instanceof Array?this.ce.push(...this.ue,...this.he):this.ce.push(...this.ue,this.he)),this.ce}}const Uo=(t,e)=>{if($o(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this.de)return this.de;const e=new xo(t.common.issues);return this.de=e,this.de}}};function zo(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:i,description:n}=t;if(e&&(r||i))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return e?{errorMap:e,description:n}:{errorMap:(e,n)=>{var s,o;const{message:a}=t;return"invalid_enum_value"===e.code?{message:null!=a?a:n.defaultError}:void 0===n.data?{message:null!==(s=null!=a?a:i)&&void 0!==s?s:n.defaultError}:"invalid_type"!==e.code?{message:n.defaultError}:{message:null!==(o=null!=a?a:r)&&void 0!==o?o:n.defaultError}},description:n}}class Lo{get description(){return this.fe.description}ve(t){return bo(t.data)}ye(t,e){return e||{common:t.parent.common,data:t.data,parsedType:bo(t.data),schemaErrorMap:this.fe.errorMap,path:t.path,parent:t.parent}}we(t){return{status:new jo,ctx:{common:t.parent.common,data:t.data,parsedType:bo(t.data),schemaErrorMap:this.fe.errorMap,path:t.path,parent:t.parent}}}be(t){const e=this.ge(t);if(Io(e))throw Error("Synchronous parse encountered promise.");return e}xe(t){const e=this.ge(t);return Promise.resolve(e)}parse(t,e){const r=this.safeParse(t,e);if(r.success)return r.data;throw r.error}safeParse(t,e){var r;const i={common:{issues:[],async:null!==(r=null==e?void 0:e.async)&&void 0!==r&&r,contextualErrorMap:null==e?void 0:e.errorMap},path:(null==e?void 0:e.path)||[],schemaErrorMap:this.fe.errorMap,parent:null,data:t,parsedType:bo(t)},n=this.be({data:t,path:i.path,parent:i});return Uo(i,n)}"~validate"(t){var e,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this.fe.errorMap,parent:null,data:t,parsedType:bo(t)};if(!this["~standard"].async)try{const e=this.be({data:t,path:[],parent:i});return $o(e)?{value:e.value}:{issues:i.common.issues}}catch(n){(null===(r=null===(e=null==n?void 0:n.message)||void 0===e?void 0:e.toLowerCase())||void 0===r?void 0:r.includes("encountered"))&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this.xe({data:t,path:[],parent:i}).then((t=>$o(t)?{value:t.value}:{issues:i.common.issues}))}async parseAsync(t,e){const r=await this.safeParseAsync(t,e);if(r.success)return r.data;throw r.error}async safeParseAsync(t,e){const r={common:{issues:[],contextualErrorMap:null==e?void 0:e.errorMap,async:!0},path:(null==e?void 0:e.path)||[],schemaErrorMap:this.fe.errorMap,parent:null,data:t,parsedType:bo(t)},i=this.ge({data:t,path:r.path,parent:r}),n=await(Io(i)?i:Promise.resolve(i));return Uo(r,n)}refine(t,e){const r=t=>"string"==typeof e||void 0===e?{message:e}:"function"==typeof e?e(t):e;return this._e(((e,i)=>{const n=t(e),s=()=>i.addIssue({code:go.custom,...r(e)});return"undefined"!=typeof Promise&&n instanceof Promise?n.then((t=>!!t||(s(),!1))):!!n||(s(),!1)}))}refinement(t,e){return this._e(((r,i)=>!!t(r)||(i.addIssue("function"==typeof e?e(r,i):e),!1)))}_e(t){return new Ma({schema:this,typeName:Wa.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._e(t)}constructor(t){this.spa=this.safeParseAsync,this.fe=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Ua.create(this,this.fe)}nullable(){return za.create(this,this.fe)}nullish(){return this.nullable().optional()}array(){return ka.create(this)}promise(){return Fa.create(this,this.fe)}or(t){return Sa.create([this,t],this.fe)}and(t){return Ea.create(this,t,this.fe)}transform(t){return new Ma({...zo(this.fe),schema:this,typeName:Wa.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const e="function"==typeof t?t:()=>t;return new La({...zo(this.fe),innerType:this,defaultValue:e,typeName:Wa.ZodDefault})}brand(){return new Za({typeName:Wa.ZodBranded,type:this,...zo(this.fe)})}catch(t){const e="function"==typeof t?t:()=>t;return new qa({...zo(this.fe),innerType:this,catchValue:e,typeName:Wa.ZodCatch})}describe(t){return new(0,this.constructor)({...this.fe,description:t})}pipe(t){return Ja.create(this,t)}readonly(){return Ga.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qo=/^c[^\s-]{8,}$/i,Bo=/^[0-9a-z]+$/,Zo=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Jo=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Go=/^[a-z0-9_-]{21}$/i,Wo=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ko=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Vo=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Ho;const Qo=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Yo=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Xo=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ta=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ea=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ra=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ia="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",na=RegExp(`^${ia}$`);function sa(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:null==t.precision&&(e+="(\\.\\d+)?"),e}function oa(t){let e=`${ia}T${sa(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,RegExp(`^${e}$`)}function aa(t,e){return!("v4"!==e&&e||!Qo.test(t))||!("v6"!==e&&e||!Xo.test(t))}function la(t,e){if(!Wo.test(t))return!1;try{const[r]=t.split("."),i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(i));return!("object"!=typeof n||null===n||!n.typ||!n.alg||e&&n.alg!==e)}catch(r){return!1}}function ca(t,e){return!("v4"!==e&&e||!Yo.test(t))||!("v6"!==e&&e||!ta.test(t))}class ua extends Lo{ge(t){if(this.fe.coerce&&(t.data=t.data+""),this.ve(t)!==wo.string){const e=this.ye(t);return Oo(e,{code:go.invalid_type,expected:wo.string,received:e.parsedType}),So}const e=new jo;let r;for(const n of this.fe.checks)if("min"===n.kind)t.data.length<n.value&&(r=this.ye(t,r),Oo(r,{code:go.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),e.dirty());else if("max"===n.kind)t.data.length>n.value&&(r=this.ye(t,r),Oo(r,{code:go.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),e.dirty());else if("length"===n.kind){const i=t.data.length>n.value,s=t.data.length<n.value;(i||s)&&(r=this.ye(t,r),i?Oo(r,{code:go.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):s&&Oo(r,{code:go.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),e.dirty())}else if("email"===n.kind)Vo.test(t.data)||(r=this.ye(t,r),Oo(r,{validation:"email",code:go.invalid_string,message:n.message}),e.dirty());else if("emoji"===n.kind)Ho||(Ho=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Ho.test(t.data)||(r=this.ye(t,r),Oo(r,{validation:"emoji",code:go.invalid_string,message:n.message}),e.dirty());else if("uuid"===n.kind)Jo.test(t.data)||(r=this.ye(t,r),Oo(r,{validation:"uuid",code:go.invalid_string,message:n.message}),e.dirty());else if("nanoid"===n.kind)Go.test(t.data)||(r=this.ye(t,r),Oo(r,{validation:"nanoid",code:go.invalid_string,message:n.message}),e.dirty());else if("cuid"===n.kind)qo.test(t.data)||(r=this.ye(t,r),Oo(r,{validation:"cuid",code:go.invalid_string,message:n.message}),e.dirty());else if("cuid2"===n.kind)Bo.test(t.data)||(r=this.ye(t,r),Oo(r,{validation:"cuid2",code:go.invalid_string,message:n.message}),e.dirty());else if("ulid"===n.kind)Zo.test(t.data)||(r=this.ye(t,r),Oo(r,{validation:"ulid",code:go.invalid_string,message:n.message}),e.dirty());else if("url"===n.kind)try{new URL(t.data)}catch(i){r=this.ye(t,r),Oo(r,{validation:"url",code:go.invalid_string,message:n.message}),e.dirty()}else"regex"===n.kind?(n.regex.lastIndex=0,n.regex.test(t.data)||(r=this.ye(t,r),Oo(r,{validation:"regex",code:go.invalid_string,message:n.message}),e.dirty())):"trim"===n.kind?t.data=t.data.trim():"includes"===n.kind?t.data.includes(n.value,n.position)||(r=this.ye(t,r),Oo(r,{code:go.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),e.dirty()):"toLowerCase"===n.kind?t.data=t.data.toLowerCase():"toUpperCase"===n.kind?t.data=t.data.toUpperCase():"startsWith"===n.kind?t.data.startsWith(n.value)||(r=this.ye(t,r),Oo(r,{code:go.invalid_string,validation:{startsWith:n.value},message:n.message}),e.dirty()):"endsWith"===n.kind?t.data.endsWith(n.value)||(r=this.ye(t,r),Oo(r,{code:go.invalid_string,validation:{endsWith:n.value},message:n.message}),e.dirty()):"datetime"===n.kind?oa(n).test(t.data)||(r=this.ye(t,r),Oo(r,{code:go.invalid_string,validation:"datetime",message:n.message}),e.dirty()):"date"===n.kind?na.test(t.data)||(r=this.ye(t,r),Oo(r,{code:go.invalid_string,validation:"date",message:n.message}),e.dirty()):"time"===n.kind?RegExp(`^${sa(n)}$`).test(t.data)||(r=this.ye(t,r),Oo(r,{code:go.invalid_string,validation:"time",message:n.message}),e.dirty()):"duration"===n.kind?Ko.test(t.data)||(r=this.ye(t,r),Oo(r,{validation:"duration",code:go.invalid_string,message:n.message}),e.dirty()):"ip"===n.kind?aa(t.data,n.version)||(r=this.ye(t,r),Oo(r,{validation:"ip",code:go.invalid_string,message:n.message}),e.dirty()):"jwt"===n.kind?la(t.data,n.alg)||(r=this.ye(t,r),Oo(r,{validation:"jwt",code:go.invalid_string,message:n.message}),e.dirty()):"cidr"===n.kind?ca(t.data,n.version)||(r=this.ye(t,r),Oo(r,{validation:"cidr",code:go.invalid_string,message:n.message}),e.dirty()):"base64"===n.kind?ea.test(t.data)||(r=this.ye(t,r),Oo(r,{validation:"base64",code:go.invalid_string,message:n.message}),e.dirty()):"base64url"===n.kind?ra.test(t.data)||(r=this.ye(t,r),Oo(r,{validation:"base64url",code:go.invalid_string,message:n.message}),e.dirty()):po.assertNever(n);return{status:e.value,value:t.data}}ke(t,e,r){return this.refinement((e=>t.test(e)),{validation:e,code:go.invalid_string,...Co.errToObj(r)})}Oe(t){return new ua({...this.fe,checks:[...this.fe.checks,t]})}email(t){return this.Oe({kind:"email",...Co.errToObj(t)})}url(t){return this.Oe({kind:"url",...Co.errToObj(t)})}emoji(t){return this.Oe({kind:"emoji",...Co.errToObj(t)})}uuid(t){return this.Oe({kind:"uuid",...Co.errToObj(t)})}nanoid(t){return this.Oe({kind:"nanoid",...Co.errToObj(t)})}cuid(t){return this.Oe({kind:"cuid",...Co.errToObj(t)})}cuid2(t){return this.Oe({kind:"cuid2",...Co.errToObj(t)})}ulid(t){return this.Oe({kind:"ulid",...Co.errToObj(t)})}base64(t){return this.Oe({kind:"base64",...Co.errToObj(t)})}base64url(t){return this.Oe({kind:"base64url",...Co.errToObj(t)})}jwt(t){return this.Oe({kind:"jwt",...Co.errToObj(t)})}ip(t){return this.Oe({kind:"ip",...Co.errToObj(t)})}cidr(t){return this.Oe({kind:"cidr",...Co.errToObj(t)})}datetime(t){var e,r;return"string"==typeof t?this.Oe({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this.Oe({kind:"datetime",precision:void 0===(null==t?void 0:t.precision)?null:null==t?void 0:t.precision,offset:null!==(e=null==t?void 0:t.offset)&&void 0!==e&&e,local:null!==(r=null==t?void 0:t.local)&&void 0!==r&&r,...Co.errToObj(null==t?void 0:t.message)})}date(t){return this.Oe({kind:"date",message:t})}time(t){return"string"==typeof t?this.Oe({kind:"time",precision:null,message:t}):this.Oe({kind:"time",precision:void 0===(null==t?void 0:t.precision)?null:null==t?void 0:t.precision,...Co.errToObj(null==t?void 0:t.message)})}duration(t){return this.Oe({kind:"duration",...Co.errToObj(t)})}regex(t,e){return this.Oe({kind:"regex",regex:t,...Co.errToObj(e)})}includes(t,e){return this.Oe({kind:"includes",value:t,position:null==e?void 0:e.position,...Co.errToObj(null==e?void 0:e.message)})}startsWith(t,e){return this.Oe({kind:"startsWith",value:t,...Co.errToObj(e)})}endsWith(t,e){return this.Oe({kind:"endsWith",value:t,...Co.errToObj(e)})}min(t,e){return this.Oe({kind:"min",value:t,...Co.errToObj(e)})}max(t,e){return this.Oe({kind:"max",value:t,...Co.errToObj(e)})}length(t,e){return this.Oe({kind:"length",value:t,...Co.errToObj(e)})}nonempty(t){return this.min(1,Co.errToObj(t))}trim(){return new ua({...this.fe,checks:[...this.fe.checks,{kind:"trim"}]})}toLowerCase(){return new ua({...this.fe,checks:[...this.fe.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ua({...this.fe,checks:[...this.fe.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this.fe.checks.find((t=>"datetime"===t.kind))}get isDate(){return!!this.fe.checks.find((t=>"date"===t.kind))}get isTime(){return!!this.fe.checks.find((t=>"time"===t.kind))}get isDuration(){return!!this.fe.checks.find((t=>"duration"===t.kind))}get isEmail(){return!!this.fe.checks.find((t=>"email"===t.kind))}get isURL(){return!!this.fe.checks.find((t=>"url"===t.kind))}get isEmoji(){return!!this.fe.checks.find((t=>"emoji"===t.kind))}get isUUID(){return!!this.fe.checks.find((t=>"uuid"===t.kind))}get isNANOID(){return!!this.fe.checks.find((t=>"nanoid"===t.kind))}get isCUID(){return!!this.fe.checks.find((t=>"cuid"===t.kind))}get isCUID2(){return!!this.fe.checks.find((t=>"cuid2"===t.kind))}get isULID(){return!!this.fe.checks.find((t=>"ulid"===t.kind))}get isIP(){return!!this.fe.checks.find((t=>"ip"===t.kind))}get isCIDR(){return!!this.fe.checks.find((t=>"cidr"===t.kind))}get isBase64(){return!!this.fe.checks.find((t=>"base64"===t.kind))}get isBase64url(){return!!this.fe.checks.find((t=>"base64url"===t.kind))}get minLength(){let t=null;for(const e of this.fe.checks)"min"===e.kind&&(null===t||e.value>t)&&(t=e.value);return t}get maxLength(){let t=null;for(const e of this.fe.checks)"max"===e.kind&&(null===t||e.value<t)&&(t=e.value);return t}}function ha(t,e){const r=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,n=r>i?r:i;return parseInt(t.toFixed(n).replace(".",""))%parseInt(e.toFixed(n).replace(".",""))/Math.pow(10,n)}ua.create=t=>{var e;return new ua({checks:[],typeName:Wa.ZodString,coerce:null!==(e=null==t?void 0:t.coerce)&&void 0!==e&&e,...zo(t)})};class da extends Lo{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}ge(t){if(this.fe.coerce&&(t.data=+t.data),this.ve(t)!==wo.number){const e=this.ye(t);return Oo(e,{code:go.invalid_type,expected:wo.number,received:e.parsedType}),So}let e;const r=new jo;for(const i of this.fe.checks)"int"===i.kind?po.isInteger(t.data)||(e=this.ye(t,e),Oo(e,{code:go.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?t.data<i.value:t.data<=i.value)&&(e=this.ye(t,e),Oo(e,{code:go.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?t.data>i.value:t.data>=i.value)&&(e=this.ye(t,e),Oo(e,{code:go.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==ha(t.data,i.value)&&(e=this.ye(t,e),Oo(e,{code:go.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(t.data)||(e=this.ye(t,e),Oo(e,{code:go.not_finite,message:i.message}),r.dirty()):po.assertNever(i);return{status:r.value,value:t.data}}gte(t,e){return this.setLimit("min",t,!0,Co.toString(e))}gt(t,e){return this.setLimit("min",t,!1,Co.toString(e))}lte(t,e){return this.setLimit("max",t,!0,Co.toString(e))}lt(t,e){return this.setLimit("max",t,!1,Co.toString(e))}setLimit(t,e,r,i){return new da({...this.fe,checks:[...this.fe.checks,{kind:t,value:e,inclusive:r,message:Co.toString(i)}]})}Oe(t){return new da({...this.fe,checks:[...this.fe.checks,t]})}int(t){return this.Oe({kind:"int",message:Co.toString(t)})}positive(t){return this.Oe({kind:"min",value:0,inclusive:!1,message:Co.toString(t)})}negative(t){return this.Oe({kind:"max",value:0,inclusive:!1,message:Co.toString(t)})}nonpositive(t){return this.Oe({kind:"max",value:0,inclusive:!0,message:Co.toString(t)})}nonnegative(t){return this.Oe({kind:"min",value:0,inclusive:!0,message:Co.toString(t)})}multipleOf(t,e){return this.Oe({kind:"multipleOf",value:t,message:Co.toString(e)})}finite(t){return this.Oe({kind:"finite",message:Co.toString(t)})}safe(t){return this.Oe({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Co.toString(t)}).Oe({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Co.toString(t)})}get minValue(){let t=null;for(const e of this.fe.checks)"min"===e.kind&&(null===t||e.value>t)&&(t=e.value);return t}get maxValue(){let t=null;for(const e of this.fe.checks)"max"===e.kind&&(null===t||e.value<t)&&(t=e.value);return t}get isInt(){return!!this.fe.checks.find((t=>"int"===t.kind||"multipleOf"===t.kind&&po.isInteger(t.value)))}get isFinite(){let t=null,e=null;for(const r of this.fe.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===e||r.value>e)&&(e=r.value):"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}return Number.isFinite(e)&&Number.isFinite(t)}}da.create=t=>new da({checks:[],typeName:Wa.ZodNumber,coerce:(null==t?void 0:t.coerce)||!1,...zo(t)});class fa extends Lo{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}ge(t){if(this.fe.coerce)try{t.data=BigInt(t.data)}catch(i){return this.je(t)}if(this.ve(t)!==wo.bigint)return this.je(t);let e;const r=new jo;for(const n of this.fe.checks)"min"===n.kind?(n.inclusive?t.data<n.value:t.data<=n.value)&&(e=this.ye(t,e),Oo(e,{code:go.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?t.data>n.value:t.data>=n.value)&&(e=this.ye(t,e),Oo(e,{code:go.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?t.data%n.value!==BigInt(0)&&(e=this.ye(t,e),Oo(e,{code:go.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):po.assertNever(n);return{status:r.value,value:t.data}}je(t){const e=this.ye(t);return Oo(e,{code:go.invalid_type,expected:wo.bigint,received:e.parsedType}),So}gte(t,e){return this.setLimit("min",t,!0,Co.toString(e))}gt(t,e){return this.setLimit("min",t,!1,Co.toString(e))}lte(t,e){return this.setLimit("max",t,!0,Co.toString(e))}lt(t,e){return this.setLimit("max",t,!1,Co.toString(e))}setLimit(t,e,r,i){return new fa({...this.fe,checks:[...this.fe.checks,{kind:t,value:e,inclusive:r,message:Co.toString(i)}]})}Oe(t){return new fa({...this.fe,checks:[...this.fe.checks,t]})}positive(t){return this.Oe({kind:"min",value:BigInt(0),inclusive:!1,message:Co.toString(t)})}negative(t){return this.Oe({kind:"max",value:BigInt(0),inclusive:!1,message:Co.toString(t)})}nonpositive(t){return this.Oe({kind:"max",value:BigInt(0),inclusive:!0,message:Co.toString(t)})}nonnegative(t){return this.Oe({kind:"min",value:BigInt(0),inclusive:!0,message:Co.toString(t)})}multipleOf(t,e){return this.Oe({kind:"multipleOf",value:t,message:Co.toString(e)})}get minValue(){let t=null;for(const e of this.fe.checks)"min"===e.kind&&(null===t||e.value>t)&&(t=e.value);return t}get maxValue(){let t=null;for(const e of this.fe.checks)"max"===e.kind&&(null===t||e.value<t)&&(t=e.value);return t}}fa.create=t=>{var e;return new fa({checks:[],typeName:Wa.ZodBigInt,coerce:null!==(e=null==t?void 0:t.coerce)&&void 0!==e&&e,...zo(t)})};class pa extends Lo{ge(t){if(this.fe.coerce&&(t.data=!!t.data),this.ve(t)!==wo.boolean){const e=this.ye(t);return Oo(e,{code:go.invalid_type,expected:wo.boolean,received:e.parsedType}),So}return Eo(t.data)}}pa.create=t=>new pa({typeName:Wa.ZodBoolean,coerce:(null==t?void 0:t.coerce)||!1,...zo(t)});class va extends Lo{ge(t){if(this.fe.coerce&&(t.data=new Date(t.data)),this.ve(t)!==wo.date){const e=this.ye(t);return Oo(e,{code:go.invalid_type,expected:wo.date,received:e.parsedType}),So}if(isNaN(t.data.getTime()))return Oo(this.ye(t),{code:go.invalid_date}),So;const e=new jo;let r;for(const i of this.fe.checks)"min"===i.kind?t.data.getTime()<i.value&&(r=this.ye(t,r),Oo(r,{code:go.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),e.dirty()):"max"===i.kind?t.data.getTime()>i.value&&(r=this.ye(t,r),Oo(r,{code:go.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),e.dirty()):po.assertNever(i);return{status:e.value,value:new Date(t.data.getTime())}}Oe(t){return new va({...this.fe,checks:[...this.fe.checks,t]})}min(t,e){return this.Oe({kind:"min",value:t.getTime(),message:Co.toString(e)})}max(t,e){return this.Oe({kind:"max",value:t.getTime(),message:Co.toString(e)})}get minDate(){let t=null;for(const e of this.fe.checks)"min"===e.kind&&(null===t||e.value>t)&&(t=e.value);return null!=t?new Date(t):null}get maxDate(){let t=null;for(const e of this.fe.checks)"max"===e.kind&&(null===t||e.value<t)&&(t=e.value);return null!=t?new Date(t):null}}va.create=t=>new va({checks:[],coerce:(null==t?void 0:t.coerce)||!1,typeName:Wa.ZodDate,...zo(t)});class ma extends Lo{ge(t){if(this.ve(t)!==wo.symbol){const e=this.ye(t);return Oo(e,{code:go.invalid_type,expected:wo.symbol,received:e.parsedType}),So}return Eo(t.data)}}ma.create=t=>new ma({typeName:Wa.ZodSymbol,...zo(t)});class ya extends Lo{ge(t){if(this.ve(t)!==wo.undefined){const e=this.ye(t);return Oo(e,{code:go.invalid_type,expected:wo.undefined,received:e.parsedType}),So}return Eo(t.data)}}ya.create=t=>new ya({typeName:Wa.ZodUndefined,...zo(t)});class wa extends Lo{ge(t){if(this.ve(t)!==wo.null){const e=this.ye(t);return Oo(e,{code:go.invalid_type,expected:wo.null,received:e.parsedType}),So}return Eo(t.data)}}wa.create=t=>new wa({typeName:Wa.ZodNull,...zo(t)});class ba extends Lo{constructor(){super(...arguments),this.Se=!0}ge(t){return Eo(t.data)}}ba.create=t=>new ba({typeName:Wa.ZodAny,...zo(t)});class ga extends Lo{constructor(){super(...arguments),this.Te=!0}ge(t){return Eo(t.data)}}ga.create=t=>new ga({typeName:Wa.ZodUnknown,...zo(t)});class xa extends Lo{ge(t){const e=this.ye(t);return Oo(e,{code:go.invalid_type,expected:wo.never,received:e.parsedType}),So}}xa.create=t=>new xa({typeName:Wa.ZodNever,...zo(t)});class _a extends Lo{ge(t){if(this.ve(t)!==wo.undefined){const e=this.ye(t);return Oo(e,{code:go.invalid_type,expected:wo.void,received:e.parsedType}),So}return Eo(t.data)}}_a.create=t=>new _a({typeName:Wa.ZodVoid,...zo(t)});class ka extends Lo{ge(t){const{ctx:e,status:r}=this.we(t),i=this.fe;if(e.parsedType!==wo.array)return Oo(e,{code:go.invalid_type,expected:wo.array,received:e.parsedType}),So;if(null!==i.exactLength){const t=e.data.length>i.exactLength.value,n=e.data.length<i.exactLength.value;(t||n)&&(Oo(e,{code:t?go.too_big:go.too_small,minimum:n?i.exactLength.value:void 0,maximum:t?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(null!==i.minLength&&e.data.length<i.minLength.value&&(Oo(e,{code:go.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),null!==i.maxLength&&e.data.length>i.maxLength.value&&(Oo(e,{code:go.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),e.common.async)return Promise.all([...e.data].map(((t,r)=>i.type.xe(new Mo(e,t,e.path,r))))).then((t=>jo.mergeArray(r,t)));const n=[...e.data].map(((t,r)=>i.type.be(new Mo(e,t,e.path,r))));return jo.mergeArray(r,n)}get element(){return this.fe.type}min(t,e){return new ka({...this.fe,minLength:{value:t,message:Co.toString(e)}})}max(t,e){return new ka({...this.fe,maxLength:{value:t,message:Co.toString(e)}})}length(t,e){return new ka({...this.fe,exactLength:{value:t,message:Co.toString(e)}})}nonempty(t){return this.min(1,t)}}function Oa(t){if(t instanceof ja){const e={};for(const r in t.shape){const i=t.shape[r];e[r]=Ua.create(Oa(i))}return new ja({...t.fe,shape:()=>e})}return t instanceof ka?new ka({...t.fe,type:Oa(t.element)}):t instanceof Ua?Ua.create(Oa(t.unwrap())):t instanceof za?za.create(Oa(t.unwrap())):t instanceof Aa?Aa.create(t.items.map((t=>Oa(t)))):t}ka.create=(t,e)=>new ka({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Wa.ZodArray,...zo(e)});class ja extends Lo{constructor(){super(...arguments),this.Ee=null,this.nonstrict=this.passthrough,this.augment=this.extend}Ae(){if(null!==this.Ee)return this.Ee;const t=this.fe.shape(),e=po.objectKeys(t);return this.Ee={shape:t,keys:e}}ge(t){if(this.ve(t)!==wo.object){const e=this.ye(t);return Oo(e,{code:go.invalid_type,expected:wo.object,received:e.parsedType}),So}const{status:e,ctx:r}=this.we(t),{shape:i,keys:n}=this.Ae(),s=[];if(!(this.fe.catchall instanceof xa&&"strip"===this.fe.unknownKeys))for(const a in r.data)n.includes(a)||s.push(a);const o=[];for(const a of n){const t=i[a],e=r.data[a];o.push({key:{status:"valid",value:a},value:t.ge(new Mo(r,e,r.path,a)),alwaysSet:a in r.data})}if(this.fe.catchall instanceof xa){const t=this.fe.unknownKeys;if("passthrough"===t)for(const e of s)o.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===t)s.length>0&&(Oo(r,{code:go.unrecognized_keys,keys:s}),e.dirty());else if("strip"!==t)throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{const t=this.fe.catchall;for(const e of s){const i=r.data[e];o.push({key:{status:"valid",value:e},value:t.ge(new Mo(r,i,r.path,e)),alwaysSet:e in r.data})}}return r.common.async?Promise.resolve().then((async()=>{const t=[];for(const e of o){const r=await e.key,i=await e.value;t.push({key:r,value:i,alwaysSet:e.alwaysSet})}return t})).then((t=>jo.mergeObjectSync(e,t))):jo.mergeObjectSync(e,o)}get shape(){return this.fe.shape()}strict(t){return Co.errToObj,new ja({...this.fe,unknownKeys:"strict",...void 0!==t?{errorMap:(e,r)=>{var i,n,s,o;const a=null!==(s=null===(n=(i=this.fe).errorMap)||void 0===n?void 0:n.call(i,e,r).message)&&void 0!==s?s:r.defaultError;return"unrecognized_keys"===e.code?{message:null!==(o=Co.errToObj(t).message)&&void 0!==o?o:a}:{message:a}}}:{}})}strip(){return new ja({...this.fe,unknownKeys:"strip"})}passthrough(){return new ja({...this.fe,unknownKeys:"passthrough"})}extend(t){return new ja({...this.fe,shape:()=>({...this.fe.shape(),...t})})}merge(t){return new ja({unknownKeys:t.fe.unknownKeys,catchall:t.fe.catchall,shape:()=>({...this.fe.shape(),...t.fe.shape()}),typeName:Wa.ZodObject})}setKey(t,e){return this.augment({[t]:e})}catchall(t){return new ja({...this.fe,catchall:t})}pick(t){const e={};return po.objectKeys(t).forEach((r=>{t[r]&&this.shape[r]&&(e[r]=this.shape[r])})),new ja({...this.fe,shape:()=>e})}omit(t){const e={};return po.objectKeys(this.shape).forEach((r=>{t[r]||(e[r]=this.shape[r])})),new ja({...this.fe,shape:()=>e})}deepPartial(){return Oa(this)}partial(t){const e={};return po.objectKeys(this.shape).forEach((r=>{const i=this.shape[r];t&&!t[r]?e[r]=i:e[r]=i.optional()})),new ja({...this.fe,shape:()=>e})}required(t){const e={};return po.objectKeys(this.shape).forEach((r=>{if(t&&!t[r])e[r]=this.shape[r];else{let t=this.shape[r];for(;t instanceof Ua;)t=t.fe.innerType;e[r]=t}})),new ja({...this.fe,shape:()=>e})}keyof(){return Na(po.objectKeys(this.shape))}}ja.create=(t,e)=>new ja({shape:()=>t,unknownKeys:"strip",catchall:xa.create(),typeName:Wa.ZodObject,...zo(e)}),ja.strictCreate=(t,e)=>new ja({shape:()=>t,unknownKeys:"strict",catchall:xa.create(),typeName:Wa.ZodObject,...zo(e)}),ja.lazycreate=(t,e)=>new ja({shape:t,unknownKeys:"strip",catchall:xa.create(),typeName:Wa.ZodObject,...zo(e)});class Sa extends Lo{ge(t){const{ctx:e}=this.we(t),r=this.fe.options;if(e.common.async)return Promise.all(r.map((async t=>{const r={...e,common:{...e.common,issues:[]},parent:null};return{result:await t.xe({data:e.data,path:e.path,parent:r}),ctx:r}}))).then((function(t){for(const e of t)if("valid"===e.result.status)return e.result;for(const i of t)if("dirty"===i.result.status)return e.common.issues.push(...i.ctx.common.issues),i.result;const r=t.map((t=>new xo(t.ctx.common.issues)));return Oo(e,{code:go.invalid_union,unionErrors:r}),So}));{let t;const i=[];for(const s of r){const r={...e,common:{...e.common,issues:[]},parent:null},n=s.be({data:e.data,path:e.path,parent:r});if("valid"===n.status)return n;"dirty"!==n.status||t||(t={result:n,ctx:r}),r.common.issues.length&&i.push(r.common.issues)}if(t)return e.common.issues.push(...t.ctx.common.issues),t.result;const n=i.map((t=>new xo(t)));return Oo(e,{code:go.invalid_union,unionErrors:n}),So}}get options(){return this.fe.options}}function Ta(t,e){const r=bo(t),i=bo(e);if(t===e)return{valid:!0,data:t};if(r===wo.object&&i===wo.object){const r=po.objectKeys(e),i=po.objectKeys(t).filter((t=>-1!==r.indexOf(t))),n={...t,...e};for(const s of i){const r=Ta(t[s],e[s]);if(!r.valid)return{valid:!1};n[s]=r.data}return{valid:!0,data:n}}if(r===wo.array&&i===wo.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let i=0;i<t.length;i++){const n=Ta(t[i],e[i]);if(!n.valid)return{valid:!1};r.push(n.data)}return{valid:!0,data:r}}return r===wo.date&&i===wo.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}Sa.create=(t,e)=>new Sa({options:t,typeName:Wa.ZodUnion,...zo(e)});class Ea extends Lo{ge(t){const{status:e,ctx:r}=this.we(t),i=(t,i)=>{if(Ao(t)||Ao(i))return So;const n=Ta(t.value,i.value);return n.valid?((Po(t)||Po(i))&&e.dirty(),{status:e.value,value:n.data}):(Oo(r,{code:go.invalid_intersection_types}),So)};return r.common.async?Promise.all([this.fe.left.xe({data:r.data,path:r.path,parent:r}),this.fe.right.xe({data:r.data,path:r.path,parent:r})]).then((([t,e])=>i(t,e))):i(this.fe.left.be({data:r.data,path:r.path,parent:r}),this.fe.right.be({data:r.data,path:r.path,parent:r}))}}Ea.create=(t,e,r)=>new Ea({left:t,right:e,typeName:Wa.ZodIntersection,...zo(r)});class Aa extends Lo{ge(t){const{status:e,ctx:r}=this.we(t);if(r.parsedType!==wo.array)return Oo(r,{code:go.invalid_type,expected:wo.array,received:r.parsedType}),So;if(r.data.length<this.fe.items.length)return Oo(r,{code:go.too_small,minimum:this.fe.items.length,inclusive:!0,exact:!1,type:"array"}),So;!this.fe.rest&&r.data.length>this.fe.items.length&&(Oo(r,{code:go.too_big,maximum:this.fe.items.length,inclusive:!0,exact:!1,type:"array"}),e.dirty());const i=[...r.data].map(((t,e)=>{const i=this.fe.items[e]||this.fe.rest;return i?i.ge(new Mo(r,t,r.path,e)):null})).filter((t=>!!t));return r.common.async?Promise.all(i).then((t=>jo.mergeArray(e,t))):jo.mergeArray(e,i)}get items(){return this.fe.items}rest(t){return new Aa({...this.fe,rest:t})}}Aa.create=(t,e)=>{if(!Array.isArray(t))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new Aa({items:t,typeName:Wa.ZodTuple,rest:null,...zo(e)})};class Pa extends Lo{get keySchema(){return this.fe.keyType}get valueSchema(){return this.fe.valueType}ge(t){const{status:e,ctx:r}=this.we(t);if(r.parsedType!==wo.map)return Oo(r,{code:go.invalid_type,expected:wo.map,received:r.parsedType}),So;const i=this.fe.keyType,n=this.fe.valueType,s=[...r.data.entries()].map((([t,e],s)=>({key:i.ge(new Mo(r,t,r.path,[s,"key"])),value:n.ge(new Mo(r,e,r.path,[s,"value"]))})));if(r.common.async){const t=new Map;return Promise.resolve().then((async()=>{for(const r of s){const i=await r.key,n=await r.value;if("aborted"===i.status||"aborted"===n.status)return So;"dirty"!==i.status&&"dirty"!==n.status||e.dirty(),t.set(i.value,n.value)}return{status:e.value,value:t}}))}{const t=new Map;for(const r of s){const i=r.key,n=r.value;if("aborted"===i.status||"aborted"===n.status)return So;"dirty"!==i.status&&"dirty"!==n.status||e.dirty(),t.set(i.value,n.value)}return{status:e.value,value:t}}}}Pa.create=(t,e,r)=>new Pa({valueType:e,keyType:t,typeName:Wa.ZodMap,...zo(r)});class $a extends Lo{ge(t){const{status:e,ctx:r}=this.we(t);if(r.parsedType!==wo.set)return Oo(r,{code:go.invalid_type,expected:wo.set,received:r.parsedType}),So;const i=this.fe;null!==i.minSize&&r.data.size<i.minSize.value&&(Oo(r,{code:go.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),e.dirty()),null!==i.maxSize&&r.data.size>i.maxSize.value&&(Oo(r,{code:go.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),e.dirty());const n=this.fe.valueType;function s(t){const r=new Set;for(const i of t){if("aborted"===i.status)return So;"dirty"===i.status&&e.dirty(),r.add(i.value)}return{status:e.value,value:r}}const o=[...r.data.values()].map(((t,e)=>n.ge(new Mo(r,t,r.path,e))));return r.common.async?Promise.all(o).then((t=>s(t))):s(o)}min(t,e){return new $a({...this.fe,minSize:{value:t,message:Co.toString(e)}})}max(t,e){return new $a({...this.fe,maxSize:{value:t,message:Co.toString(e)}})}size(t,e){return this.min(t,e).max(t,e)}nonempty(t){return this.min(1,t)}}$a.create=(t,e)=>new $a({valueType:t,minSize:null,maxSize:null,typeName:Wa.ZodSet,...zo(e)});class Ia extends Lo{get schema(){return this.fe.getter()}ge(t){const{ctx:e}=this.we(t);return this.fe.getter().ge({data:e.data,path:e.path,parent:e})}}Ia.create=(t,e)=>new Ia({getter:t,typeName:Wa.ZodLazy,...zo(e)});class Ra extends Lo{ge(t){if(t.data!==this.fe.value){const e=this.ye(t);return Oo(e,{received:e.data,code:go.invalid_literal,expected:this.fe.value}),So}return{status:"valid",value:t.data}}get value(){return this.fe.value}}function Na(t,e){return new Ca({values:t,typeName:Wa.ZodEnum,...zo(e)})}Ra.create=(t,e)=>new Ra({value:t,typeName:Wa.ZodLiteral,...zo(e)});class Ca extends Lo{constructor(){super(...arguments),Do.set(this,void 0)}ge(t){if("string"!=typeof t.data){const e=this.ye(t),r=this.fe.values;return Oo(e,{expected:po.joinValues(r),received:e.parsedType,code:go.invalid_type}),So}if(Ro(this,Do)||No(this,Do,new Set(this.fe.values)),!Ro(this,Do).has(t.data)){const e=this.ye(t),r=this.fe.values;return Oo(e,{received:e.data,code:go.invalid_enum_value,options:r}),So}return Eo(t.data)}get options(){return this.fe.values}get enum(){const t={};for(const e of this.fe.values)t[e]=e;return t}get Values(){const t={};for(const e of this.fe.values)t[e]=e;return t}get Enum(){const t={};for(const e of this.fe.values)t[e]=e;return t}extract(t,e=this.fe){return Ca.create(t,{...this.fe,...e})}exclude(t,e=this.fe){return Ca.create(this.options.filter((e=>!t.includes(e))),{...this.fe,...e})}}Do=new WeakMap,Ca.create=Na;class Da extends Lo{constructor(){super(...arguments),Fo.set(this,void 0)}ge(t){const e=po.getValidEnumValues(this.fe.values),r=this.ye(t);if(r.parsedType!==wo.string&&r.parsedType!==wo.number){const t=po.objectValues(e);return Oo(r,{expected:po.joinValues(t),received:r.parsedType,code:go.invalid_type}),So}if(Ro(this,Fo)||No(this,Fo,new Set(po.getValidEnumValues(this.fe.values))),!Ro(this,Fo).has(t.data)){const t=po.objectValues(e);return Oo(r,{received:r.data,code:go.invalid_enum_value,options:t}),So}return Eo(t.data)}get enum(){return this.fe.values}}Fo=new WeakMap,Da.create=(t,e)=>new Da({values:t,typeName:Wa.ZodNativeEnum,...zo(e)});class Fa extends Lo{unwrap(){return this.fe.type}ge(t){const{ctx:e}=this.we(t);if(e.parsedType!==wo.promise&&!1===e.common.async)return Oo(e,{code:go.invalid_type,expected:wo.promise,received:e.parsedType}),So;const r=e.parsedType===wo.promise?e.data:Promise.resolve(e.data);return Eo(r.then((t=>this.fe.type.parseAsync(t,{path:e.path,errorMap:e.common.contextualErrorMap}))))}}Fa.create=(t,e)=>new Fa({type:t,typeName:Wa.ZodPromise,...zo(e)});class Ma extends Lo{innerType(){return this.fe.schema}sourceType(){return this.fe.schema.fe.typeName===Wa.ZodEffects?this.fe.schema.sourceType():this.fe.schema}ge(t){const{status:e,ctx:r}=this.we(t),i=this.fe.effect||null,n={addIssue:t=>{Oo(r,t),t.fatal?e.abort():e.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),"preprocess"===i.type){const t=i.transform(r.data,n);if(r.common.async)return Promise.resolve(t).then((async t=>{if("aborted"===e.value)return So;const i=await this.fe.schema.xe({data:t,path:r.path,parent:r});return"aborted"===i.status?So:"dirty"===i.status||"dirty"===e.value?To(i.value):i}));{if("aborted"===e.value)return So;const i=this.fe.schema.be({data:t,path:r.path,parent:r});return"aborted"===i.status?So:"dirty"===i.status||"dirty"===e.value?To(i.value):i}}if("refinement"===i.type){const t=t=>{const e=i.refinement(t,n);if(r.common.async)return Promise.resolve(e);if(e instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return t};if(!1===r.common.async){const i=this.fe.schema.be({data:r.data,path:r.path,parent:r});return"aborted"===i.status?So:("dirty"===i.status&&e.dirty(),t(i.value),{status:e.value,value:i.value})}return this.fe.schema.xe({data:r.data,path:r.path,parent:r}).then((r=>"aborted"===r.status?So:("dirty"===r.status&&e.dirty(),t(r.value).then((()=>({status:e.value,value:r.value}))))))}if("transform"===i.type){if(!1===r.common.async){const t=this.fe.schema.be({data:r.data,path:r.path,parent:r});if(!$o(t))return t;const s=i.transform(t.value,n);if(s instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:s}}return this.fe.schema.xe({data:r.data,path:r.path,parent:r}).then((t=>$o(t)?Promise.resolve(i.transform(t.value,n)).then((t=>({status:e.value,value:t}))):t))}po.assertNever(i)}}Ma.create=(t,e,r)=>new Ma({schema:t,typeName:Wa.ZodEffects,effect:e,...zo(r)}),Ma.createWithPreprocess=(t,e,r)=>new Ma({schema:e,effect:{type:"preprocess",transform:t},typeName:Wa.ZodEffects,...zo(r)});class Ua extends Lo{ge(t){return this.ve(t)===wo.undefined?Eo(void 0):this.fe.innerType.ge(t)}unwrap(){return this.fe.innerType}}Ua.create=(t,e)=>new Ua({innerType:t,typeName:Wa.ZodOptional,...zo(e)});class za extends Lo{ge(t){return this.ve(t)===wo.null?Eo(null):this.fe.innerType.ge(t)}unwrap(){return this.fe.innerType}}za.create=(t,e)=>new za({innerType:t,typeName:Wa.ZodNullable,...zo(e)});class La extends Lo{ge(t){const{ctx:e}=this.we(t);let r=e.data;return e.parsedType===wo.undefined&&(r=this.fe.defaultValue()),this.fe.innerType.ge({data:r,path:e.path,parent:e})}removeDefault(){return this.fe.innerType}}La.create=(t,e)=>new La({innerType:t,typeName:Wa.ZodDefault,defaultValue:"function"==typeof e.default?e.default:()=>e.default,...zo(e)});class qa extends Lo{ge(t){const{ctx:e}=this.we(t),r={...e,common:{...e.common,issues:[]}},i=this.fe.innerType.ge({data:r.data,path:r.path,parent:{...r}});return Io(i)?i.then((t=>({status:"valid",value:"valid"===t.status?t.value:this.fe.catchValue({get error(){return new xo(r.common.issues)},input:r.data})}))):{status:"valid",value:"valid"===i.status?i.value:this.fe.catchValue({get error(){return new xo(r.common.issues)},input:r.data})}}removeCatch(){return this.fe.innerType}}qa.create=(t,e)=>new qa({innerType:t,typeName:Wa.ZodCatch,catchValue:"function"==typeof e.catch?e.catch:()=>e.catch,...zo(e)});class Ba extends Lo{ge(t){if(this.ve(t)!==wo.nan){const e=this.ye(t);return Oo(e,{code:go.invalid_type,expected:wo.nan,received:e.parsedType}),So}return{status:"valid",value:t.data}}}Ba.create=t=>new Ba({typeName:Wa.ZodNaN,...zo(t)});class Za extends Lo{ge(t){const{ctx:e}=this.we(t),r=e.data;return this.fe.type.ge({data:r,path:e.path,parent:e})}unwrap(){return this.fe.type}}class Ja extends Lo{ge(t){const{status:e,ctx:r}=this.we(t);if(r.common.async)return(async()=>{const t=await this.fe.in.xe({data:r.data,path:r.path,parent:r});return"aborted"===t.status?So:"dirty"===t.status?(e.dirty(),To(t.value)):this.fe.out.xe({data:t.value,path:r.path,parent:r})})();{const t=this.fe.in.be({data:r.data,path:r.path,parent:r});return"aborted"===t.status?So:"dirty"===t.status?(e.dirty(),{status:"dirty",value:t.value}):this.fe.out.be({data:t.value,path:r.path,parent:r})}}static create(t,e){return new Ja({in:t,out:e,typeName:Wa.ZodPipeline})}}class Ga extends Lo{ge(t){const e=this.fe.innerType.ge(t),r=t=>($o(t)&&(t.value=Object.freeze(t.value)),t);return Io(e)?e.then((t=>r(t))):r(e)}unwrap(){return this.fe.innerType}}var Wa;Ga.create=(t,e)=>new Ga({innerType:t,typeName:Wa.ZodReadonly,...zo(e)}),ja.lazycreate,function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"}(Wa||(Wa={}));const Ka=ua.create;da.create,Ba.create,fa.create,pa.create,va.create,ma.create,ya.create,wa.create,ba.create,ga.create,xa.create,_a.create,ka.create;const Va=ja.create;ja.strictCreate,Sa.create,Ea.create,Aa.create,Pa.create,$a.create,Ia.create,Ra.create,Ca.create,Da.create,Fa.create,Ma.create,Ua.create,za.create,Ma.createWithPreprocess,Ja.create;const Ha=Object.freeze(Object.defineProperty({__proto__:null,default:o((function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}))},Symbol.toStringTag,{value:"Module"}));export{jr as A,Sr as Q,qr as _,p as a,c as b,lo as c,Fe as d,Pe as e,$e as f,Ie as g,Re as h,Ne as i,Ce as j,Ae as k,De as l,Ue as m,pr as n,Va as o,Vr as p,Lr as q,Yr as r,Ka as s,yo as t,Wr as u,Br as v,Qr as w,ni as x,_t as y,h as z};
