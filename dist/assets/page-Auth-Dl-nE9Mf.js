import{r as e,a,an as r,j as s}from"./react-core-CnGHm5UM.js";import{C as o,b as c,c as t,w as n,F as i,d as l,x as d,y as m,z as u,A as h,I as p,E as f,G as y,B as w}from"./component-ui-BiEVUsOz.js";import{u as g}from"./hooks-k93NwXX7.js";import{o as v,s as b,t as j}from"./vendor-CVxbL24y.js";import{s as A}from"./component-AddGameForm.tsx-Cddvg6Xq.js";const x=v({email:b().email(),password:b().min(6)}),N=()=>{const[v,b]=e.useState(!1),[N,k]=e.useState(!1),{toast:E}=g(),C=a(),S=r({resolver:j(x),defaultValues:{email:"",password:""}});return s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-mtg-primary to-background flex items-center justify-center p-4",children:s.jsxs(o,{className:"w-full max-w-md",children:[s.jsxs(c,{children:[s.jsx(t,{children:N?"Create Account":"Welcome Back"}),s.jsx(n,{children:N?"Enter your email to create your account":"Enter your email to sign in to your account"})]}),s.jsx(i,{...S,children:s.jsxs("form",{onSubmit:S.handleSubmit((async e=>{b(!0);try{if(N){const{error:a}=await A.auth.signUp({email:e.email,password:e.password});if(a)throw a;E({title:"Account created!",description:"Please check your email to verify your account."})}else{const{error:a}=await A.auth.signInWithPassword({email:e.email,password:e.password});if(a)throw a;C("/")}}catch(a){E({variant:"destructive",title:"Error",description:a.message})}finally{b(!1)}})),children:[s.jsxs(l,{className:"space-y-4",children:[s.jsx(d,{control:S.control,name:"email",render:({field:e})=>s.jsxs(m,{children:[s.jsx(u,{children:"Email"}),s.jsx(h,{children:s.jsx(p,{type:"email",placeholder:"your@email.com",...e})}),s.jsx(f,{})]})}),s.jsx(d,{control:S.control,name:"password",render:({field:e})=>s.jsxs(m,{children:[s.jsx(u,{children:"Password"}),s.jsx(h,{children:s.jsx(p,{type:"password",...e})}),s.jsx(f,{})]})})]}),s.jsxs(y,{className:"flex-col space-y-2",children:[s.jsx(w,{type:"submit",className:"w-full",disabled:v,children:v?"Loading...":N?"Create Account":"Sign In"}),s.jsx(w,{type:"button",variant:"ghost",className:"w-full",onClick:()=>k(!N),children:N?"Already have an account? Sign In":"Don't have an account? Sign Up"})]})]})})]})})};export{N as A};
